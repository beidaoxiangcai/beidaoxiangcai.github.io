<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>C++ çº¿ç¨‹æ± çš„å®ç°</title>
    <link href="/2022/10/23/C++%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/10/23/C++%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="C-çº¿ç¨‹æ± çš„å®ç°"><a href="#C-çº¿ç¨‹æ± çš„å®ç°" class="headerlink" title="C++ çº¿ç¨‹æ± çš„å®ç°"></a>C++ çº¿ç¨‹æ± çš„å®ç°</h1><ul><li>åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ç„¶è€Œï¼Œæ‰‹åŠ¨ç®¡ç†çº¿ç¨‹å¯èƒ½ä¼šå¯¼è‡´ä»£ç å¤æ‚å’Œå‡ºé”™çš„é£é™©ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®€åŒ–çº¿ç¨‹ç®¡ç†ï¼›</li><li>çº¿ç¨‹æ± é€šè¿‡é¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹ï¼Œå°†ä»»åŠ¡åˆ†é…ç»™è¿™äº›çº¿ç¨‹æ‰§è¡Œï¼Œä»è€Œæé«˜ç¨‹åºçš„å¹¶å‘æ€§å’Œå“åº”é€Ÿåº¦ï¼›</li><li>çº¿ç¨‹æ± åŒ…æ‹¬ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—å’Œä¸€ç»„å·¥ä½œçº¿ç¨‹ï¼Œä»»åŠ¡é˜Ÿåˆ—ç”¨äºå­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå·¥ä½œçº¿ç¨‹åˆ™ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œã€‚</li></ul><h2 id="ä»»åŠ¡é˜Ÿåˆ—å®ç°-ğŸ”"><a href="#ä»»åŠ¡é˜Ÿåˆ—å®ç°-ğŸ”" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—å®ç° ğŸ”"></a>ä»»åŠ¡é˜Ÿåˆ—å®ç° ğŸ”</h2><p> ä»»åŠ¡é˜Ÿåˆ—è¦åŒæ—¶ä»å¤šä¸ªç”¨æˆ·ä¸­æ¥æ”¶ç”¨äºå¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå› æ­¤è¦ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨STLä¸­çš„é˜Ÿåˆ—æˆ–é“¾è¡¨æ¥å®ç°ï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªäº’æ–¥é‡æ¥ä¿è¯é˜Ÿåˆ—çš„çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä½¿ç”¨æ¡ä»¶å˜é‡æ¥å®ç°é˜»å¡å¼çš„é˜Ÿåˆ—æ“ä½œã€‚ä»»åŠ¡é˜Ÿåˆ—çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><p> çº¿ç¨‹å®‰å…¨æ˜¯é€šè¿‡ std::mutex å’Œ std::condition_variable å®ç°çš„ã€‚å…¶ä¸­ï¼Œpush() å‡½æ•°ç”¨äºå‘é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œtry_pop() å‡½æ•°ç”¨äºå°è¯•å¼¹å‡ºé˜Ÿé¦–å…ƒç´ ï¼Œwait_and_pop() å‡½æ•°ç”¨äºç­‰å¾…é˜Ÿåˆ—éç©ºå¹¶å¼¹å‡ºé˜Ÿé¦–å…ƒç´ ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mutex&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;condition_variable&gt;</span></span><br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeQueue</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">ThreadSafeQueue</span>() = <span class="hljs-keyword">default</span>;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span> </span>&#123;<br>        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(m_mutex)</span></span>;<br>        m_queue.<span class="hljs-built_in">push</span>(value);<br>        m_cv.<span class="hljs-built_in">notify_one</span>();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(T&amp;&amp; value)</span> </span>&#123;<br>        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(m_mutex)</span></span>;<br>        m_queue.<span class="hljs-built_in">push</span>(std::<span class="hljs-built_in">move</span>(value));<br>        m_cv.<span class="hljs-built_in">notify_one</span>();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">try_pop</span><span class="hljs-params">(T&amp; value)</span> </span>&#123;<br>        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(m_mutex)</span></span>;<br>        <span class="hljs-keyword">if</span> (m_queue.<span class="hljs-built_in">empty</span>()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>        value = std::<span class="hljs-built_in">move</span>(m_queue.<span class="hljs-built_in">front</span>());<br>        m_queue.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">wait_and_pop</span><span class="hljs-params">(T&amp; value)</span> </span>&#123;<br>        <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(m_mutex)</span></span>;<br>        m_cv.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>] &#123; <span class="hljs-keyword">return</span> !m_queue.<span class="hljs-built_in">empty</span>(); &#125;);<br><br>        value = std::<span class="hljs-built_in">move</span>(m_queue.<span class="hljs-built_in">front</span>());<br>        m_queue.<span class="hljs-built_in">pop</span>();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(m_mutex)</span></span>;<br>        <span class="hljs-keyword">return</span> m_queue.<span class="hljs-built_in">empty</span>();<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    std::queue&lt;T&gt; m_queue;<br>    <span class="hljs-keyword">mutable</span> std::mutex m_mutex;<br>    std::condition_variable m_cv;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="å·¥ä½œçº¿ç¨‹å®ç°"><a href="#å·¥ä½œçº¿ç¨‹å®ç°" class="headerlink" title="å·¥ä½œçº¿ç¨‹å®ç°"></a>å·¥ä½œçº¿ç¨‹å®ç°</h2><p>å·¥ä½œçº¿ç¨‹ç”¨äºä»ä¸åœä»»åŠ¡é˜Ÿåˆ—ä¸­å–ä»»åŠ¡å¹¶æ‰§è¡Œã€‚è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ª WorkerThread ç±»ï¼Œå®ƒçš„ operator() å‡½æ•°ä¸æ–­åœ°ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹åœæ­¢ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;atomic&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerThread</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">WorkerThread</span>(ThreadSafeQueue&lt;std::function&lt;<span class="hljs-built_in">void</span>()&gt;&gt;&amp; taskQueue, std::atomic_bool&amp; running)<br>        : <span class="hljs-built_in">m_taskQueue</span>(taskQueue), <span class="hljs-built_in">m_running</span>(running) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (m_running) &#123;<br>            std::function&lt;<span class="hljs-type">void</span>()&gt; task;<br>            <span class="hljs-keyword">if</span> (m_taskQueue.<span class="hljs-built_in">try_pop</span>(task)) &#123;<br>                <span class="hljs-built_in">task</span>();<br>            &#125;<br>            <span class="hljs-keyword">else</span> &#123;<br>                std::this_thread::<span class="hljs-built_in">yield</span>();<br>            &#125;<br>        &#125;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    ThreadSafeQueue&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt;&amp; m_taskQueue;<br>    std::atomic_bool&amp; m_running;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="çº¿ç¨‹æ± å®ç°"><a href="#çº¿ç¨‹æ± å®ç°" class="headerlink" title="çº¿ç¨‹æ± å®ç°"></a>çº¿ç¨‹æ± å®ç°</h2><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªçº¿ç¨‹æ± ç±»ï¼Œä¸ºç”¨æˆ·ç®¡ç†äº†ä»»åŠ¡é˜Ÿåˆ—å’Œå·¥ä½œçº¿ç¨‹ï¼Œçº¿ç¨‹çº¿ç¨‹æ± ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPool</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">ThreadPool</span>(<span class="hljs-type">size_t</span> numThreads = std::thread::<span class="hljs-built_in">hardware_concurrency</span>())<br>        : <span class="hljs-built_in">m_running</span>(<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; numThreads; ++i) &#123;<br>            m_threads.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-built_in">WorkerThread</span>(m_taskQueue, m_running));<br>        &#125;<br>    &#125;<br><br>    ~<span class="hljs-built_in">ThreadPool</span>() &#123;<br>        m_running = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; thread : m_threads) &#123;<br>            thread.<span class="hljs-built_in">join</span>();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Func, <span class="hljs-keyword">typename</span>... Args&gt;</span><br><span class="hljs-function">    <span class="hljs-type">void</span> <span class="hljs-title">submit</span><span class="hljs-params">(Func&amp;&amp; func, Args&amp;&amp;... args)</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> task = std::<span class="hljs-built_in">bind</span>(std::forward&lt;Func&gt;(func), std::forward&lt;Args&gt;(args)...);<br>        m_taskQueue.<span class="hljs-built_in">push</span>(task);<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">threadWorker</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (m_running) &#123;<br>            std::function&lt;<span class="hljs-type">void</span>()&gt; task;<br>            <span class="hljs-keyword">if</span> (m_taskQueue.<span class="hljs-built_in">try_pop</span>(task)) &#123;<br>                <span class="hljs-built_in">task</span>();<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                std::this_thread::<span class="hljs-built_in">yield</span>();<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    ThreadSafeQueue&lt;std::function&lt;<span class="hljs-type">void</span>()&gt;&gt; m_taskQueue;<br>    std::vector&lt;std::thread&gt; m_threads;<br>    std::atomic&lt;<span class="hljs-type">bool</span>&gt; m_running;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;chrono&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">task</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Task &quot;</span> &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; started&quot;</span> &lt;&lt; std::endl;<br>    std::this_thread::<span class="hljs-built_in">sleep_for</span>(std::chrono::<span class="hljs-built_in">seconds</span>(<span class="hljs-number">1</span>));<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Task &quot;</span> &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; finished&quot;</span> &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">ThreadPool <span class="hljs-title">pool</span><span class="hljs-params">(<span class="hljs-number">4</span>)</span></span>;  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŒ…å« 4 ä¸ªå·¥ä½œçº¿ç¨‹çš„çº¿ç¨‹æ± </span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; ++i) &#123;<br>        pool.<span class="hljs-built_in">submit</span>(task, i);  <span class="hljs-comment">// å‘çº¿ç¨‹æ± ä¸­æ·»åŠ  8 ä¸ªä»»åŠ¡</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>âš  <strong>Note</strong>: è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>]]></content>
    
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ å¤šæ€ç‰¹æ€§åŠç®€å•ç¤ºä¾‹</title>
    <link href="/2022/08/09/C++%20%E5%A4%9A%E6%80%81%E7%89%B9%E6%80%A7%E5%8F%8A%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B/"/>
    <url>/2022/08/09/C++%20%E5%A4%9A%E6%80%81%E7%89%B9%E6%80%A7%E5%8F%8A%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="C-å¤šæ€ç‰¹æ€§åŠç®€å•ç¤ºä¾‹"><a href="#C-å¤šæ€ç‰¹æ€§åŠç®€å•ç¤ºä¾‹" class="headerlink" title="C++ å¤šæ€ç‰¹æ€§åŠç®€å•ç¤ºä¾‹"></a>C++ å¤šæ€ç‰¹æ€§åŠç®€å•ç¤ºä¾‹</h1><p>C++ æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå…¶ä¸­çš„å¤šæ€ç‰¹æ€§å…è®¸å¼€å‘è€…åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹æ¥è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚è¿™é‡Œæˆ‘ä¼šä»‹ç» C++ å¤šæ€çš„æ¦‚å¿µå’Œå‡ ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œå¹¶æä¾›ä¸€äº›ä»£ç ç¤ºä¾‹ã€‚</p><h2 id="å¤šæ€-ğŸ”"><a href="#å¤šæ€-ğŸ”" class="headerlink" title="å¤šæ€ ğŸ”"></a>å¤šæ€ ğŸ”</h2><p>å¤šæ€ï¼ˆpolymorphismï¼‰æ˜¯ä¸€ç§åŸºäºç»§æ‰¿çš„æœºåˆ¶ï¼Œå®ƒå…è®¸ä¸åŒçš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯ä½œå‡ºä¸åŒçš„å“åº”ã€‚æ¢å¥è¯è¯´ï¼ŒåŒæ ·çš„æ–¹æ³•è°ƒç”¨å¯ä»¥åœ¨ä¸åŒçš„å¯¹è±¡ä¸Šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚</p><p><strong>é™æ€å¤šæ€</strong>ï¼šä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¤šæ€ï¼Œä¸»è¦é€šè¿‡å‡½æ•°é‡è½½å’Œæ¨¡æ¿å®ç°ã€‚åœ¨ç¼–è¯‘æ—¶æœŸå°±èƒ½å¤Ÿç¡®å®šå‡½æ•°çš„è°ƒç”¨ç‰ˆæœ¬æˆ–è€…ç±»çš„å®ä¾‹ç±»å‹ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºé™æ€ç»‘å®šã€‚ä¾‹å¦‚ï¼Œé€šè¿‡é‡è½½å‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šå…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°ç‰ˆæœ¬ã€‚</p><p><strong>åŠ¨æ€å¤šæ€</strong>ï¼šä¹Ÿç§°ä¸ºè¿è¡Œæ—¶å¤šæ€ï¼Œä¸»è¦é€šè¿‡è™šå‡½æ•°å®ç°ã€‚åœ¨ç¼–è¯‘æ—¶æœŸæ— æ³•ç¡®å®šå‡½æ•°è°ƒç”¨çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶æœŸæ ¹æ®å®é™…å¯¹è±¡ç±»å‹æ¥ç¡®å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ç‰ˆæœ¬ã€‚å› æ­¤ä¹Ÿç§°ä¸ºåŠ¨æ€ç»‘å®šã€‚æˆ‘ä»¬å¯ä»¥åœ¨åŸºç±»ä¸­å£°æ˜è™šå‡½æ•°ï¼Œç„¶ååœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™è¯¥å‡½æ•°ï¼Œå½“ä½¿ç”¨åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯è¯¥æŒ‡é’ˆæˆ–å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ç±»å‹çš„è™šå‡½æ•°ç‰ˆæœ¬ã€‚</p><p>é™æ€å¤šæ€åœ¨ç¼–è¯‘æ—¶æœŸå°±èƒ½å¤Ÿç¡®å®šå‡½æ•°è°ƒç”¨çš„ç‰ˆæœ¬ï¼Œè€ŒåŠ¨æ€å¤šæ€éœ€è¦åœ¨è¿è¡Œæ—¶æœŸæ ¹æ®å®é™…å¯¹è±¡ç±»å‹æ¥ç¡®å®šå‡½æ•°è°ƒç”¨çš„ç‰ˆæœ¬ã€‚å¤šæ€æœºåˆ¶ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™é€šç”¨çš„ä»£ç ï¼Œæ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚</p><h2 id="è™šå‡½æ•°å®ç°å¤šæ€"><a href="#è™šå‡½æ•°å®ç°å¤šæ€" class="headerlink" title="è™šå‡½æ•°å®ç°å¤šæ€"></a>è™šå‡½æ•°å®ç°å¤šæ€</h2><p>è™šå‡½æ•°æ˜¯ C++ ä¸­å®ç°å¤šæ€çš„ä¸€ç§å¸¸ç”¨æ–¹å¼ã€‚è™šå‡½æ•°æ˜¯åœ¨åŸºç±»ä¸­å£°æ˜çš„ï¼Œç”¨ virtual å…³é”®å­—æ¥ä¿®é¥°ï¼Œå®ƒå…è®¸æ´¾ç”Ÿç±»é‡å†™è¯¥å‡½æ•°ã€‚å½“è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å®é™…å¯¹è±¡çš„ç±»å‹æ¥è°ƒç”¨å¯¹åº”çš„é‡å†™å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè™šå‡½æ•°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Drawing a shape...&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> : <span class="hljs-keyword">public</span> Shape &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Drawing a circle...&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Square</span> : <span class="hljs-keyword">public</span> Shape &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Drawing a square...&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Shape* shape1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Circle</span>();<br>    Shape* shape2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Square</span>();<br>    shape1-&gt;<span class="hljs-built_in">draw</span>();<br>    shape2-&gt;<span class="hljs-built_in">draw</span>();<br>    <span class="hljs-keyword">delete</span> shape1;<br>    <span class="hljs-keyword">delete</span> shape2;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŸºç±» Shapeï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªè™šå‡½æ•° draw()ã€‚æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸¤ä¸ªæ´¾ç”Ÿç±» Circle å’Œ Squareï¼Œå®ƒä»¬éƒ½é‡å†™äº† draw() å‡½æ•°ã€‚åœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæŒ‡å‘ Shape ç±»å‹çš„æŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘ Circle å’Œ Square å¯¹è±¡ã€‚æˆ‘ä»¬è°ƒç”¨å®ƒä»¬çš„ draw() å‡½æ•°ï¼Œè¿™ä¼šæ ¹æ®å®é™…å¯¹è±¡çš„ç±»å‹æ¥è°ƒç”¨å¯¹åº”çš„é‡å†™å‡½æ•°ï¼Œè¾“å‡ºä¸åŒçš„ç»“æœã€‚</p><h2 id="æ¨¡æ¿å®ç°å¤šæ€"><a href="#æ¨¡æ¿å®ç°å¤šæ€" class="headerlink" title="æ¨¡æ¿å®ç°å¤šæ€"></a>æ¨¡æ¿å®ç°å¤šæ€</h2><p>æ¨¡æ¿æ˜¯ C++ ä¸­å¦ä¸€ç§å®ç°å¤šæ€çš„æ–¹å¼ã€‚æ¨¡æ¿å…è®¸æˆ‘ä»¬ç¼–å†™ä¸€ç§é€šç”¨çš„å‡½æ•°æˆ–ç±»ï¼Œå®ƒå¯ä»¥æ ¹æ®å®é™…ç±»å‹çš„å‚æ•°æ¥ç”Ÿæˆä¸åŒçš„ä»£ç ã€‚è¿™ç§æŠ€æœ¯è¢«ç§°ä¸ºæ³›å‹ç¼–ç¨‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ¨¡æ¿å‡½æ•°çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(T value)</span> </span>&#123;<br>    std::cout &lt;&lt; value &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">print</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);<br>    <span class="hljs-built_in">print</span>&lt;<span class="hljs-type">double</span>&gt;(<span class="hljs-number">3.14</span>);<br>    <span class="hljs-built_in">print</span>&lt;std::string&gt;(<span class="hljs-string">&quot;hello&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿å‡½æ•° print()ï¼Œå®ƒå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚åœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº† print() å‡½æ•°ä¸‰æ¬¡ï¼Œåˆ†åˆ«ä¼ å…¥ intã€double å’Œ std::string ç±»å‹çš„å‚æ•°ã€‚ç”±äºæ¨¡æ¿çš„ç‰¹æ€§ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å®é™…ç±»å‹çš„å‚æ•°æ¥ç”Ÿæˆä¸åŒçš„ä»£ç ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†å¤šæ€ã€‚</p><p>#æ€»ç»“<br>æœ¬ç¯‡åšå®¢ä»‹ç»äº† C++ ä¸­å¤šæ€çš„æ¦‚å¿µå’Œä¸¤ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼šè™šå‡½æ•°å’Œæ¨¡æ¿ã€‚è™šå‡½æ•°æ˜¯ä¸€ç§åŸºäºç»§æ‰¿çš„æœºåˆ¶ï¼Œå®ƒå…è®¸æ´¾ç”Ÿç±»é‡å†™åŸºç±»çš„å‡½æ•°ï¼Œä»è€Œå®ç°å¤šæ€ã€‚æ¨¡æ¿æ˜¯ä¸€ç§é€šç”¨çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œå®ƒå¯ä»¥æ ¹æ®å®é™…ç±»å‹çš„å‚æ•°æ¥ç”Ÿæˆä¸åŒçš„ä»£ç ï¼Œä¹Ÿå¯ä»¥å®ç°å¤šæ€ã€‚å¸Œæœ›æœ¬ç¯‡åšå®¢èƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ C++ ä¸­çš„å¤šæ€ç‰¹æ€§ã€‚</p><p>âš  <strong>Note</strong>: è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>]]></content>
    
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>shellè¯­æ³•æ€»ç»“ï¼ˆ2ï¼‰</title>
    <link href="/2022/07/11/shell%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <url>/2022/07/11/shell%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="Shellè¯­æ³•"><a href="#Shellè¯­æ³•" class="headerlink" title="Shellè¯­æ³•"></a>Shellè¯­æ³•</h2><h4 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h4><ul><li><code>./aa.sh</code><ul><li>æ‰“å¼€ä¸€ä¸ª<strong>subshell</strong>å»è¯»å–ã€æ‰§è¡Œaa.shï¼Œè€Œaa.sh<strong>éœ€è¦æœ‰æ‰§è¡Œæƒé™</strong></li><li>ä¾èµ–é¦–è¡Œæ˜ç¡®è§£é‡Šå™¨ç±»å‹ï¼Œå¦åˆ™å°±ä¸åœ¨subshellä¸­æ‰§è¡Œ</li><li>é€šçŸ¥ç³»ç»Ÿåœ¨å½“å‰ç›®å½•æ‰¾aa.sh,è€Œç›´æ¥æ‰§è¡Œaa.sh&#96;ï¼Œlinux ç³»ç»Ÿå°†åœ¨ PATHé‡Œçš„ç›®å½•é‡Œæ‰¾aa.sh</li></ul></li><li><code>sh/bash aa.sh</code>  <ul><li>æ‰“å¼€ä¸€ä¸ª<strong>subshell</strong>è¿è¡Œè§£é‡Šå™¨å»è¯»å–ã€æ‰§è¡Œaa.shï¼Œæ–‡ä»¶åä½œä¸ºå‚æ•°ï¼Œ<strong>æ— éœ€æ‰§è¡Œæƒé™</strong></li><li>æ— éœ€åœ¨é¦–è¡Œå†™ç±»ä¼¼<code>#!/bin/bash*</code>æ¥æ˜ç¡®è§£é‡Šå™¨</li></ul></li><li><code>source aa.sh</code><ul><li><strong>å½“å‰shellå†…</strong>è¯»å–ã€æ‰§è¡Œaa.shï¼Œä¼šä¿ç•™å’Œæ”¹å˜å½“å‰shellä¸­çš„å˜é‡ï¼Œ<strong>æ— éœ€æ‰§è¡Œæƒé™</strong></li><li>soureå¯ä»¥ç®€åŒ–ä¸ºç‚¹å·â€.â€ï¼Œæ¨èç‚¹å·</li></ul></li></ul><h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><ul><li><p>$aaä¸${aa}æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯{}å¯ä»¥ç”¨æ¥æ˜ç¡®å˜é‡è¾¹ç•Œï¼ŒåŒæ—¶æ”¯æŒæ‹¼æ¥</p></li><li><p><code>readonly aa</code> è®¾ç½®å˜é‡aaä¸ºåªè¯»</p></li><li><p><code>unset aa</code> åˆ é™¤å˜é‡aa, ä¸èƒ½åˆ åªè¯»å˜é‡</p></li><li><p>shellå˜é‡</p><ul><li>&#96;&#96;&#96;<br>$$ &#x2F;&#x2F; shellæœ¬èº«PID<br>$* $@  å‚æ•°åˆ—è¡¨ï¼ˆä¸åŒ…æ‹¬è„šæœ¬æ–‡ä»¶åï¼‰<br>$# å‚æ•°åˆ—è¡¨ä¸­å‚æ•°ä¸ªæ•°<br>$0 è„šæœ¬æ–‡ä»¶å<br>$n ç¬¬nä¸ªå‚æ•°<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br>#### å­—ç¬¦ä¸²<br><br>+ å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå› è€Œå˜é‡æ˜¯æ— æ•ˆçš„<br>+ å­—ç¬¦ä¸²é•¿åº¦ `$&#123;#string&#125;`<br>+ æˆªå–å­ä¸² `$&#123;string:<span class="hljs-number">1</span>:<span class="hljs-number">4</span>&#125;` æˆªå–stringä½ç½®<span class="hljs-number">1</span>å¼€å§‹çš„<span class="hljs-number">4</span>ä¸ªå­—ç¬¦<br><br>#### æ•°ç»„<br><br>```shell<br>array_name=(value0 value1 value2 value3) #ä¸é™å®šé•¿åº¦ï¼Œä¸‹æ ‡ä»<span class="hljs-number">0</span>å¼€å§‹ï¼Œç©ºæ ¼åˆ†å‰²<br>array_name[n]=valuen <br>$&#123;array_name[@]&#125; # ä½¿ç”¨ @ ç¬¦å·å¯ä»¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ <br>length=$&#123;#array_name[@]&#125; # å–å¾—æ•°ç»„å…ƒç´ çš„ä¸ªæ•°<br>lengthn=$&#123;#array_name[n]&#125; # å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦<br></code></pre></td></tr></table></figure></li></ul></li></ul><h4 id="å¤šè¡Œæ³¨é‡Š"><a href="#å¤šè¡Œæ³¨é‡Š" class="headerlink" title="å¤šè¡Œæ³¨é‡Š"></a>å¤šè¡Œæ³¨é‡Š</h4><ul><li>&#96;&#96;&#96;shell<br>: &lt;&lt;â€™COMMENTâ€™<br>something<br>COMMENT<br>æˆ–è€…<br>: &lt;&lt;!<br>something<br>!<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk"><br><span class="hljs-comment">#### Shellç¼–ç </span><br><br><span class="hljs-comment">#### cdå®‰å…¨</span><br><br>+ cdå¯èƒ½ç”±äºé”™è¯¯è·¯å¾„ã€æ— æƒé™ç­‰é—®é¢˜è€Œå¤±è´¥ï¼Œä¸€æ—¦å¤±è´¥åç»­æ“ä½œå°†åœ¨é”™è¯¯ç›®å½•ä¸Šç»§ç»­æ‰§è¡Œï¼Œå¼•å‘è¯¯æ“ä½œã€‚<br>+ é€šè¿‡æ·»åŠ é”™è¯¯åˆ¤æ–­å¹¶<span class="hljs-keyword">exit</span>æ–¹å¼é¿å…é”™è¯¯æ“ä½œã€‚<br><br>```shell<br>cd foo || <span class="hljs-keyword">exit</span> <span class="hljs-regexp">//</span> <span class="hljs-keyword">exit</span>è¿”å›cdé”™è¯¯ç <br>cd foo || &#123; echo <span class="hljs-string">&quot;Failure&quot;</span>; <span class="hljs-keyword">exit</span> <span class="hljs-number">1</span>; &#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h4><p>è¿›å…¥å½“å‰è„šæœ¬è·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$</span><span class="language-bash">(<span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(dirname $0)</span>&quot;</span>;<span class="hljs-built_in">pwd</span>)</span><br></code></pre></td></tr></table></figure><p>è¿›å…¥å½“å‰å‡½æ•°æ‰§è¡Œè·¯å¾„ï¼Œå¦‚è„šæœ¬Aè°ƒç”¨è„šæœ¬Bï¼Œåœ¨Bä¸­æ‰§è¡Œåˆ™å¾—åˆ°Bçš„è·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$</span><span class="language-bash">( <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-subst">$( dirname <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;BASH_SOURCE[0]&#125;</span>&quot;</span> )</span>&quot;</span> &amp;&amp; <span class="hljs-built_in">pwd</span> )</span><br></code></pre></td></tr></table></figure><h2 id="é™æ³¢ä»£ç æ£€è§†"><a href="#é™æ³¢ä»£ç æ£€è§†" class="headerlink" title="é™æ³¢ä»£ç æ£€è§†"></a>é™æ³¢ä»£ç æ£€è§†</h2><h4 id="ç¦»çº¿æ£€æµ‹"><a href="#ç¦»çº¿æ£€æµ‹" class="headerlink" title="ç¦»çº¿æ£€æµ‹"></a>ç¦»çº¿æ£€æµ‹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt-get install shellcheck<br>shellcheck file.sh<br></code></pre></td></tr></table></figure><h4 id="åœ¨çº¿æ£€æµ‹"><a href="#åœ¨çº¿æ£€æµ‹" class="headerlink" title="åœ¨çº¿æ£€æµ‹"></a>åœ¨çº¿æ£€æµ‹</h4><ul><li><p>åœ¨çº¿æ£€æµ‹<a href="https://www.shellcheck.net/%EF%BC%8C%E8%B4%B4%E5%85%A5%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%87%AA%E5%8A%A8%E6%A3%80%E6%B5%8B">https://www.shellcheck.net/ï¼Œè´´å…¥ä»£ç ï¼Œè‡ªåŠ¨æ£€æµ‹</a></p></li><li><p>æ³¨æ„åŠ ä¸Š <code>#!/bin/bash</code>ï¼Œå¦åˆ™æŠ¥é”™</p></li></ul><p><img src="/img/shell-check.png" alt="shellcheckç¤ºæ„"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>shellè¯­æ³•æ€»ç»“ï¼ˆ1ï¼‰</title>
    <link href="/2022/05/14/shell_note/"/>
    <url>/2022/05/14/shell_note/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒèµ„æ–™ï¼š<a href="https://www.cnblogs.com/jingmoxukong/p/7867397.html">https://www.cnblogs.com/jingmoxukong/p/7867397.html</a></p><h1 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h1><blockquote><ul><li>Shell æ˜¯æŒ‡ä¸€ç§åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡è¿™ä¸ªç•Œé¢è®¿é—® Linux å†…æ ¸çš„æœåŠ¡ã€‚  </li><li>Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯ä¸€ç§ä¸º shell ç¼–å†™çš„è„šæœ¬ç¨‹åºï¼Œä¸€èˆ¬æ–‡ä»¶åç¼€ä¸º .shã€‚</li></ul></blockquote><h1 id="äºŒã€shellè¯­æ³•"><a href="#äºŒã€shellè¯­æ³•" class="headerlink" title="äºŒã€shellè¯­æ³•"></a>äºŒã€shellè¯­æ³•</h1><h3 id="1-æŒ‡å®šè§£é‡Šå™¨"><a href="#1-æŒ‡å®šè§£é‡Šå™¨" class="headerlink" title="1. #!æŒ‡å®šè§£é‡Šå™¨"></a>1. #!æŒ‡å®šè§£é‡Šå™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">æŒ‡å®šbashè§£é‡Šå™¨</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash</span>  <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŒ‡å®šshè§£é‡Šå™¨</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/sh</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šä¸æŒ‡å®šï¼Œæ‰§è¡Œçš„æ—¶å€™ä¼šæç¤ºæ²¡æœ‰æƒé™</p><blockquote><p>Shell çš„è§£é‡Šå™¨ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š</p></blockquote><ul><li>sh - å³ Bourne Shellã€‚sh æ˜¯ Unix æ ‡å‡†é»˜è®¤çš„ shellã€‚</li><li>bash - å³ Bourne Again Shellã€‚bash æ˜¯ Linux æ ‡å‡†é»˜è®¤çš„ shellã€‚</li><li>fish - æ™ºèƒ½å’Œç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œ shellã€‚</li><li>xiki - ä½¿ shell æ§åˆ¶å°æ›´å‹å¥½ï¼Œæ›´å¼ºå¤§ã€‚</li><li>zsh - åŠŸèƒ½å¼ºå¤§çš„ shell ä¸è„šæœ¬è¯­è¨€ã€‚</li></ul><h3 id="2-æ³¨é‡Š"><a href="#2-æ³¨é‡Š" class="headerlink" title="2. æ³¨é‡Š"></a>2. æ³¨é‡Š</h3><ul><li>å•è¡Œæ³¨é‡Šï¼š#å¼€å¤´</li><li>å¤šè¡Œæ³¨é‡Šï¼šâ€œ:&lt;&lt;EOFâ€å¼€å¤´ï¼Œâ€EOFâ€ç»“å°¾</li></ul><h3 id="3-echoï¼šè¾“å‡º"><a href="#3-echoï¼šè¾“å‡º" class="headerlink" title="3. echoï¼šè¾“å‡º"></a>3. echoï¼šè¾“å‡º</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">è¾“å‡ºhelloï¼Œworld!</span><br>echo &quot;hello, world!&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">\è½¬ä¹‰å­—ç¬¦ï¼Œè¾“å‡ºâ€œhelloâ€</span><br>echo &quot;\&quot;hello\&quot;&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è¾“å‡ºåˆ°æ–‡ä»¶test.txt,æ²¡æœ‰åˆ™æ–°å»º</span><br>echo &quot;test&quot; &gt; test.txt<br></code></pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šä¸€ä¸ªecho, åé¢è‡ªåŠ¨æ¢è¡Œ</p><h3 id="4-printfè¾“å‡º"><a href="#4-printfè¾“å‡º" class="headerlink" title="4. printfè¾“å‡º"></a>4. printfè¾“å‡º</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡º</span><br>printf &quot;%s %s %s\n&quot; a b c d<br><span class="hljs-meta prompt_"># </span><span class="language-bash"> Output:</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> a b c</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"> d</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œé‚£ä¹ˆ %s ç”¨ NULL ä»£æ›¿ï¼Œ%d ç”¨ 0 ä»£æ›¿</span><br>printf &quot;%s and %d \n&quot;<br><span class="hljs-meta prompt_"># </span><span class="language-bash"> Output:</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">  and 0</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šéœ€æ‰‹åŠ¨æ·»åŠ æ¢è¡Œ</p><h3 id="5-å˜é‡"><a href="#5-å˜é‡" class="headerlink" title="5. å˜é‡"></a>5. å˜é‡</h3><blockquote><p>å˜é‡æ— éœ€å£°æ˜ï¼Œç›´æ¥èµ‹å€¼å°±ä¼šåˆ›å»º<br>è®¿é—®æ–¹å¼ï¼Œ${å˜é‡} æˆ– $å˜é‡</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">dword=&quot;hello&quot;  # å£°æ˜å˜é‡<br>echo $&#123;dword&#125;  # è¾“å‡ºå˜é‡å€¼<br><span class="hljs-meta prompt_"># </span><span class="language-bash">Output: hello</span><br><br>readonly dword # å®šä¹‰ä¸ºåªè¯»<br><span class="hljs-meta prompt_"># </span><span class="language-bash">dword=<span class="hljs-string">&quot;bye&quot;</span>  <span class="hljs-comment"># å¦‚æœæ”¾å¼€æ³¨é‡Šï¼Œæ‰§è¡Œæ—¶ä¼šæŠ¥é”™</span></span><br><br>unset dword    # åˆ é™¤å˜é‡<br>echo $&#123;dword&#125;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">Output: ï¼ˆç©ºï¼‰</span><br></code></pre></td></tr></table></figure><h3 id="6-æ¡ä»¶è¯­å¥å†™åœ¨-ä¸­"><a href="#6-æ¡ä»¶è¯­å¥å†™åœ¨-ä¸­" class="headerlink" title="6. æ¡ä»¶è¯­å¥å†™åœ¨[[]]ä¸­"></a>6. æ¡ä»¶è¯­å¥å†™åœ¨[[]]ä¸­</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">x=10<br>y=20<br>if [[ $&#123;x&#125; &gt; $&#123;y&#125; ]]; then<br>   echo &quot;$&#123;x&#125; &gt; $&#123;y&#125;&quot;<br>elif [[ $&#123;x&#125; &lt; $&#123;y&#125; ]]; then<br>   echo &quot;$&#123;x&#125; &lt; $&#123;y&#125;&quot;<br>else<br>   echo &quot;$&#123;x&#125; = $&#123;y&#125;&quot;<br>fi<br><span class="hljs-meta prompt_"># </span><span class="language-bash">Output: 10 &lt; 20</span><br></code></pre></td></tr></table></figure><h3 id="7-Debug"><a href="#7-Debug" class="headerlink" title="7. Debug"></a>7. Debug</h3><ul><li>-f: ç¦æ­¢æ–‡ä»¶åå±•å¼€ï¼ˆglobbingï¼‰</li><li>-i: è®©è„šæœ¬ä»¥ äº¤äº’ æ¨¡å¼è¿è¡Œ</li><li>-n: è¯»å–å‘½ä»¤ï¼Œä½†ä¸æ‰§è¡Œï¼ˆè¯­æ³•æ£€æŸ¥ï¼‰</li><li>-t: æ‰§è¡Œå®Œç¬¬ä¸€æ¡å‘½ä»¤åé€€å‡º</li><li>-v: åœ¨æ‰§è¡Œæ¯æ¡å‘½ä»¤å‰ï¼Œå‘stderrè¾“å‡ºè¯¥å‘½ä»¤ </li><li>-x: åœ¨æ‰§è¡Œæ¯æ¡å‘½ä»¤å‰ï¼Œå‘stderrè¾“å‡ºè¯¥å‘½ä»¤ä»¥åŠè¯¥å‘½ä»¤çš„æ‰©å±•å‚æ•°<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å†™æ³•1</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash -x</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å†™æ³•2,ä½¿ç”¨-å¯ç”¨é€‰é¡¹ï¼Œ+ç¦ç”¨é€‰é¡¹</span><br>set -x<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CMakeå¸¸ç”¨æ“ä½œæ€»ç»“</title>
    <link href="/2022/03/08/cmake_note/"/>
    <url>/2022/03/08/cmake_note/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒï¼š<br><a href="https://blog.csdn.net/comedate/article/details/108544656">https://blog.csdn.net/comedate/article/details/108544656</a><br><a href="https://blog.csdn.net/qq_37431083/article/details/125885308">https://blog.csdn.net/qq_37431083&#x2F;article&#x2F;details&#x2F;125885308</a></p><h1 id="ä¸€ã€CMakeä»‹ç»"><a href="#ä¸€ã€CMakeä»‹ç»" class="headerlink" title="ä¸€ã€CMakeä»‹ç»"></a>ä¸€ã€CMakeä»‹ç»</h1><ul><li><p>makefile: æºæ–‡ä»¶ä¸€ä¸ªä¸€ä¸ªç¼–è¯‘å¤ªéº»çƒ¦ï¼ŒMakefileé€šè¿‡ç¼–å†™è§„åˆ™æ–‡ä»¶æŒ‡å®šå·¥ç¨‹ä¸­å“ªäº›æ–‡ä»¶éœ€è¦å…ˆç¼–è¯‘ï¼Œå“ªäº›éœ€è¦åç¼–è¯‘è¿›è¡Œæ‰¹å¤„ç†ç¼–è¯‘ï¼›å¯ä»¥æŒ‡å®šåªç¼–è¯‘æ–°å†™å‡ºçš„ä»£ç ï¼Œè€Œä¸ç”¨å…¨éƒ¨é‡æ–°ç¼–è¯‘ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚ </p></li><li><p>CMakeï¼šæ˜¯ä¸€ä¸ªå¼€æºã€è·¨å¹³å°çš„ç¼–è¯‘ã€æµ‹è¯•å’Œæ‰“åŒ…å·¥å…·ï¼Œå®ƒä½¿ç”¨æ¯”è¾ƒç®€å•çš„è¯­è¨€æè¿°ç¼–è¯‘ã€å®‰è£…çš„è¿‡ç¨‹ï¼Œ<strong>è‡ªåŠ¨è¾“å‡º</strong>Makefileæˆ–è€…projectæ–‡ä»¶ã€‚</p><p>ä¸ºä»€ä¹ˆä¸è‡ªå·±å†™Makefileï¼šå¯¹äºå¤§å‹å·¥ç¨‹ï¼ŒMakefileå¾ˆå¤æ‚ï¼Œcmakeå¯è‡ªåŠ¨ç”ŸæˆMakefileã€‚</p><p>è·¨å¹³å°ç¼–è¯‘ï¼Œä¹Ÿå«äº¤å‰ç¼–è¯‘ï¼Œå¯åœ¨winå¹³å°ä¸Šå¼€å‘ï¼Œç¼–è¯‘æˆlinuxå¹³å°å¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚</p><p>Projectæ–‡ä»¶ï¼ˆå³Objectæ–‡ä»¶ï¼‰: ç”±æºæ–‡ä»¶é€šè¿‡ç¼–è¯‘è¿‡ç¨‹äº§ç”Ÿï¼Œæ˜¯ä¸€ç§ä¸­é—´ä»£ç æ–‡ä»¶ï¼Œå…¶æ–‡ä»¶æ ¼å¼åœ¨Windowsä¸‹ä¸º .obj æ–‡ä»¶ï¼ŒUNIXä¸‹æ˜¯ .o æ–‡ä»¶ã€‚å¤§é‡çš„Objectæ–‡ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼ˆè¯¥è¿‡ç¨‹ç§°ä¸ºâ€é“¾æ¥â€ï¼‰ç»„æˆäº†å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p></li></ul><h1 id="äºŒã€CMakeLists-txtè¯­æ³•"><a href="#äºŒã€CMakeLists-txtè¯­æ³•" class="headerlink" title="äºŒã€CMakeLists.txtè¯­æ³•"></a>äºŒã€CMakeLists.txtè¯­æ³•</h1><h3 id="å†…éƒ¨å˜é‡"><a href="#å†…éƒ¨å˜é‡" class="headerlink" title="å†…éƒ¨å˜é‡"></a>å†…éƒ¨å˜é‡</h3><table><thead><tr><th>å˜é‡å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>PROJECT_NAME</td><td>projectåç§°ï¼Œå³ä½¿ç”¨PROJECTå‘½ä»¤è®¾ç½®çš„åç§°</td></tr><tr><td>CMAKE_CXX_COMPILER</td><td>æŒ‡å®šC++ç¼–è¯‘å™¨</td></tr><tr><td>CMAKE_CXX_FLAGS</td><td>ç¼–è¯‘C++æ–‡ä»¶æ—¶çš„é€‰é¡¹</td></tr><tr><td>CMAKE_CXX_STANDARD</td><td>C++æ ‡å‡†</td></tr><tr><td>add_definitions</td><td>æ·»åŠ ç¼–è¯‘é€‰é¡¹</td></tr><tr><td>EXECUTABLE_OUTPUT_PATH</td><td>å¯æ‰§è¡Œæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</td></tr><tr><td>LIBRARY_OUTPUT_PATH</td><td>åº“æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</td></tr><tr><td>CMAKE_BUILD_TYPE</td><td>build ç±»å‹(Debug, Release, â€¦)ï¼ŒCMAKE_BUILD_TYPE&#x3D;Debug</td></tr><tr><td>BUILD_SHARED_LIBS</td><td>æŒ‡å®šç¼–è¯‘æˆé™æ€åº“è¿˜æ˜¯åŠ¨æ€åº“</td></tr></tbody></table><ol><li>è®¾ç½®æœ€ä½Cmakeç‰ˆæœ¬è¦æ±‚<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.5</span>)  <br></code></pre></td></tr></table></figure></li><li><strong>project()</strong></li></ol><ul><li>PROJECT_NAME: å¿…é€‰â€”â€”ç”¨æ¥è®¾ç½®å·¥ç¨‹åï¼Œè®¾ç½®åï¼Œä¼šæŠŠè®¾ç½®çš„å€¼å­˜å‚¨åœ¨CMAKE_PROJECT_NAMEå˜é‡ä¸­</li><li>VERSIONï¼šå¯é€‰ï¼Œå·¥ç¨‹ç‰ˆæœ¬å·ï¼Œæœ‰ä¸»ç‰ˆæœ¬å·ã€æ¬¡ç‰ˆæœ¬å·ã€è¡¥ä¸ç‰ˆæœ¬å·</li><li>DESCRIPTIONï¼šå·¥ç¨‹ç®€å•çš„çš„æè¿°</li><li>HOMEPAGE_URLï¼šå·¥ç¨‹ä¸»é¡µurl</li><li>LANGUAGESï¼šå·¥ç¨‹ä½¿ç”¨çš„è¯­è¨€</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># æŒ‡å®šé¡¹ç›®åå’Œç¼–ç¨‹è¯­è¨€,é»˜è®¤ä¸ºCå’ŒC++ï¼ˆcxxï¼‰ï¼ŒLANGUAGEå…³é”®å­—å¯çœç•¥</span><br><span class="hljs-keyword">project</span>(cmaketest cxx)<br><span class="hljs-comment"># è·Ÿåœ¨å…¶ä»–å…³é”®å­—åä¸å¯çœç•¥</span><br><span class="hljs-keyword">project</span> (camketest VERSION <span class="hljs-number">10.2</span>.<span class="hljs-number">1.3</span> LANGUAGES â€œCXXâ€)<br></code></pre></td></tr></table></figure><ol start="3"><li>message æ‰“å°æ¶ˆæ¯<br><code>message([FATAL_ERROR] â€œmessage to displayâ€ â€¦)</code></li><li>set å¯è®¾ç½®æ™®é€šå˜é‡ã€ç¯å¢ƒå˜é‡ã€ç¼“å­˜æ¡ç›®<br> <code>set (normal_var a) #æ™®é€šå˜é‡</code></li><li>ç”Ÿæˆå¯æ‰§è¡Œç¨‹åº<br>#åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹å¤šä¸ªæºæ–‡ä»¶çš„ç¼–è¯‘<br><code>add_executable (helloDemo demo.cxx demo_b.cxx)</code>     </li><li>æŒ‡å®šå¤´æ–‡ä»¶æœç´¢è·¯å¾„<br><code>include_directories ($&#123;HELLO_SOURCE_DIR&#125;/Hello)</code></li><li>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æºæ–‡ä»¶åï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ°DIR_CURRä¸­<br> <code>aux_source_directory(. DIR_CURR)</code></li><li>æ·»åŠ é“¾æ¥åº“ï¼ŒæŒ‡æ˜å¯æ‰§è¡Œæ–‡ä»¶helloDemoéœ€è¦è¿æ¥ä¸€ä¸ªåä¸º function çš„é“¾æ¥åº“<br><code>target_link_libraries(helloDemo function)</code></li></ol><h1 id="ä¸‰ã€cmakeå‘½ä»¤"><a href="#ä¸‰ã€cmakeå‘½ä»¤" class="headerlink" title="ä¸‰ã€cmakeå‘½ä»¤"></a>ä¸‰ã€cmakeå‘½ä»¤</h1><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-S</td><td>æŒ‡å®šæºæ–‡ä»¶æ ¹ç›®å½•ï¼Œå¿…é¡»åŒ…å«ä¸€ä¸ªCMakeLists.txtæ–‡ä»¶</td></tr><tr><td>-B</td><td>æŒ‡å®šæ„å»ºç›®å½•ï¼Œæ„å»ºç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶çš„ç”Ÿæˆè·¯å¾„</td></tr><tr><td>-D</td><td>ä½¿ç”¨å˜é‡ï¼Œæ ¼å¼ä¸º-D &lt;var&gt;&#x3D;&lt;value&gt;ï¼Œ-Dåé¢çš„ç©ºæ ¼<strong>å¯çœç•¥</strong>,å˜é‡åœ¨CMakeLists.txtä¸­å®šä¹‰</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">æŒ‡æ˜ä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºæºæ–‡ä»¶ç›®å½•ï¼Œå…¶ä¸­åŒ…å«CMakeLists.txtæ–‡ä»¶ï¼›</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨buildç›®å½•ä½œä¸ºæ„å»ºç›®å½•ï¼›</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">è®¾å®šå˜é‡CMAKE_BUILD_TYPEçš„å€¼ä¸ºDebugï¼Œå˜é‡AUTHORçš„å€¼ä¸ºRealCoolEngineer</span><br>cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug -DAUTHOR=RealCoolEngineer<br></code></pre></td></tr></table></figure><h1 id="å››ã€CMakeä½¿ç”¨"><a href="#å››ã€CMakeä½¿ç”¨" class="headerlink" title="å››ã€CMakeä½¿ç”¨"></a>å››ã€CMakeä½¿ç”¨</h1><ol><li>ç”ŸæˆMakefileæ–‡ä»¶<blockquote><p>cmake `CMakeLists.txtæ‰€åœ¨è·¯å¾„&#96;  &#x2F;&#x2F;ä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ç”Ÿæˆbuildæ–‡ä»¶    </p></blockquote></li><li>ç¼–è¯‘:è¿›å…¥buildæ–‡ä»¶ï¼Œé‡Œé¢ä¼šæœ‰Makefileæ–‡ä»¶ï¼Œæ‰§è¡Œmakeï¼Œå³ä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶<blockquote><p>make</p></blockquote></li><li>ç›´æ¥è¾“å…¥å¯æ‰§è¡Œæ–‡ä»¶æ–‡ä»¶åï¼Œæ‰§è¡Œã€‚</li></ol><h1 id="äº”ã€é¡¹ç›®CMakeList-txtå®ä¾‹"><a href="#äº”ã€é¡¹ç›®CMakeList-txtå®ä¾‹" class="headerlink" title="äº”ã€é¡¹ç›®CMakeList.txtå®ä¾‹"></a>äº”ã€é¡¹ç›®CMakeList.txtå®ä¾‹</h1><p>é¡¹ç›®æ¥æºï¼š<a href="https://github.com/CandyConfident/HighPerformanceConcurrentServer">https://github.com/CandyConfident/HighPerformanceConcurrentServer</a>  </p><p>out-of-source buildï¼Œä¸in-source buildç›¸å¯¹ï¼Œå³å°†ç¼–è¯‘è¾“å‡ºæ–‡ä»¶ä¸æºæ–‡ä»¶æ”¾åˆ°ä¸åŒç›®å½•ä¸­ã€‚æ­¤é¡¹ç›®ä¸ºout-of-source buildã€‚</p><h3 id="build-sh"><a href="#build-sh" class="headerlink" title="build.sh"></a>build.sh</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/sh</span><br><br>set -x<br><br>SOURCE_DIR=`pwd`<br>BUILD_DIR=$&#123;BUILD_DIR:-../build&#125;<br>BUILD_TYPE=$&#123;BUILD_TYPE:-Debug&#125; #è¡¨ç¤ºæ˜¯debugç‰ˆæœ¬ï¼Œä¸æ˜¯releaseç‰ˆæœ¬<br>DEBUG_FLAG=$&#123;DEBUG_FLAG:-1&#125;<br><br>mkdir -p $BUILD_DIR/$BUILD_TYPE \<br>    &amp;&amp; cd $BUILD_DIR/$BUILD_TYPE \<br>    &amp;&amp; cmake \<br>            -DCMAKE_BUILD_TYPE=$BUILD_TYPE \<br>            -DCMAKE_DEBUG_FLAG=$DEBUG_FLAG \<br>            $SOURCE_DIR \<br>    &amp;&amp; make $*<br></code></pre></td></tr></table></figure><h3 id="æ€»CMakeLists-txt"><a href="#æ€»CMakeLists-txt" class="headerlink" title="æ€»CMakeLists.txt"></a>æ€»CMakeLists.txt</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.16</span>) <span class="hljs-comment">#æŒ‡å®šcmakeæœ€å°ç‰ˆæœ¬</span><br><span class="hljs-keyword">project</span>(MyServer CXX) <span class="hljs-comment">#æŒ‡å®šé¡¹ç›®åå’Œç¨‹åºè¯­è¨€,cxx=c++</span><br><br><span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD <span class="hljs-number">20</span>) <span class="hljs-comment">#æŒ‡å®šC++æ ‡å‡†</span><br><br><span class="hljs-keyword">if</span>(CMAKE_DEBUG_FLAG) <br>    <span class="hljs-keyword">set</span>(CMAKE_CXX_FLAGS <span class="hljs-string">&quot; $&#123;CMAKE_CXX_FLAGS&#125; -g&quot;</span>)<br><span class="hljs-keyword">endif</span>()<br><br><span class="hljs-keyword">message</span>(STATUS <span class="hljs-string">&quot;CMAKE_CXX_FLAGS = &quot;</span> <span class="hljs-variable">$&#123;CMAKE_CXX_FLAGS&#125;</span>) <span class="hljs-comment">#æ‰“å°æ¶ˆæ¯</span><br><br><span class="hljs-comment"># æ·»åŠ å­ç›®å½•,åŒæ—¶å°†å­ç›®å½•ä¸‹çš„CMakeLists.txtæ–‡ä»¶æ‰§è¡Œ</span><br><span class="hljs-keyword">add_subdirectory</span>(log/tests)<br><span class="hljs-keyword">add_subdirectory</span>(threadpool/tests)<br><span class="hljs-keyword">add_subdirectory</span>(timer/tests)<br><span class="hljs-keyword">add_subdirectory</span>(memory/tests)<br><span class="hljs-keyword">add_subdirectory</span>(net/tests)<br></code></pre></td></tr></table></figure><h3 id="å­CMakeLists-txt"><a href="#å­CMakeLists-txt" class="headerlink" title="å­CMakeLists.txt"></a>å­CMakeLists.txt</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">aux_source_directory</span>(.. native_source) <span class="hljs-comment">#å°†å½“å‰æ–‡ä»¶å¤¹æ‰€æœ‰æºæ–‡ä»¶åæ·»åŠ åˆ°ä¸Šä¸€çº§ç›®å½•ä¸­native_sourceä¸­</span><br><span class="hljs-keyword">set</span>(SRCS  <span class="hljs-comment">#è®¾ç½®SRCSå˜é‡ä¸ºå¤šä¸ªå€¼</span><br>    test_mem.cpp<br>    ../../log/pr.cpp<br>    ../../log/log.cpp<br>)<br><span class="hljs-keyword">list</span>(APPEND SRCS <span class="hljs-variable">$&#123;native_source&#125;</span>)<br><br><span class="hljs-keyword">set</span>(INCS<br>    ../<br>    ../../log<br>)<br><span class="hljs-keyword">include_directories</span>(<span class="hljs-variable">$&#123;INCS&#125;</span>) <span class="hljs-comment">#æŒ‡å®šå¤´æ–‡ä»¶è·¯å¾„</span><br><br><span class="hljs-keyword">add_executable</span>(mem_test <span class="hljs-variable">$&#123;SRCS&#125;</span>) <span class="hljs-comment">#å°†SRCSä¸­æºæ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶mem_test</span><br><span class="hljs-keyword">target_link_libraries</span>(mem_test pthread) <span class="hljs-comment">#æ·»åŠ é“¾æ¥åº“</span><br><br><span class="hljs-keyword">list</span>(REMOVE_ITEM SRCS test_mem.cpp)<br><span class="hljs-keyword">list</span>(APPEND SRCS test_buf.cpp)<br><span class="hljs-keyword">add_executable</span>(buf_test <span class="hljs-variable">$&#123;SRCS&#125;</span>)<br><span class="hljs-keyword">target_link_libraries</span>(buf_test pthread)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Cmake</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitå¸¸ç”¨æ“ä½œæ€»ç»“</title>
    <link href="/2022/02/28/Git%E5%B8%B8%E7%94%A8%E6%80%BB%E7%BB%93/"/>
    <url>/2022/02/28/Git%E5%B8%B8%E7%94%A8%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="æ‰¹é‡åˆ é™¤Gitåˆ†æ”¯"><a href="#æ‰¹é‡åˆ é™¤Gitåˆ†æ”¯" class="headerlink" title="æ‰¹é‡åˆ é™¤Gitåˆ†æ”¯"></a>æ‰¹é‡åˆ é™¤Gitåˆ†æ”¯</h2><h3 id="åˆ æœ¬åœ°åˆ†æ”¯"><a href="#åˆ æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ æœ¬åœ°åˆ†æ”¯"></a>åˆ æœ¬åœ°åˆ†æ”¯</h3><p>git branch è¾“å‡ºåˆ†æ”¯åˆ—è¡¨ï¼Œ é€šè¿‡ç®¡é“è¿‡æ»¤å‡ºåŒ…å«å…³é”®è¯ keynameåˆ†æ”¯åçš„åˆ†æ”¯ï¼Œä¼ é€’ç»™git branch -D æœ¬åœ°åˆ†æ”¯å¼ºåˆ¶åˆ é™¤å‘½ä»¤ä¸­ï¼Œå®ç°<strong>æ‰¹é‡åˆ é™¤åŒ…å«keynameå­—ç¬¦ä¸²çš„æœ¬åœ°åˆ†æ”¯</strong></p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">git branch |<span class="hljs-type">grep</span> &#x27;keyname&#x27; | <span class="hljs-type">xargs</span> git branch -D<br></code></pre></td></tr></table></figure><h4 id="åˆ è¿œç¨‹åˆ†æ”¯"><a href="#åˆ è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ è¿œç¨‹åˆ†æ”¯"></a>åˆ è¿œç¨‹åˆ†æ”¯</h4><p>git branch è¾“å‡ºåˆ†æ”¯åˆ—è¡¨ï¼Œ é€šè¿‡ç®¡é“è¿‡æ»¤å‡ºåŒ…å«å…³é”®è¯ keynameåˆ†æ”¯åçš„åˆ†æ”¯ï¼Œä¼ é€’ç»™git push origin â€“delete è¿œç«¯åˆ†æ”¯å¼ºåˆ¶åˆ é™¤å‘½ä»¤ä¸­ï¼Œå®ç°<strong>æ‰¹é‡åˆ é™¤åŒ…å«keynameå­—ç¬¦ä¸²çš„è¿œç«¯åˆ†æ”¯</strong></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">git branch |<span class="hljs-keyword">grep</span> <span class="hljs-string">&#x27;keyname&#x27;</span> | xargs git <span class="hljs-keyword">push</span> origin --<span class="hljs-keyword">delete</span><br></code></pre></td></tr></table></figure><h2 id="è¯¯åˆ åˆ†æ”¯æ‰¾å›"><a href="#è¯¯åˆ åˆ†æ”¯æ‰¾å›" class="headerlink" title="è¯¯åˆ åˆ†æ”¯æ‰¾å›"></a>è¯¯åˆ åˆ†æ”¯æ‰¾å›</h2><p>git reflogæŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„commitè®°å½•,æ ¹æ®commitè®°å½•åˆ›å»ºåˆ†æ”¯</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haxe">git branch <span class="hljs-keyword">new</span><span class="hljs-type">BranchName</span> HEAD@&#123;**&#125;<br></code></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ°æ–°åˆ†æ”¯åï¼Œpushåˆ°è¿œç«¯å³å¯æ¢å¤è¿œç«¯åˆ†æ”¯</p><p><img src="/img/findback-branch.png" alt="æ‰¾å›åˆ†æ”¯"></p><h2 id="Gitå¿«æ·å‘½ä»¤é…ç½®ï¼ˆåˆ«åï¼‰"><a href="#Gitå¿«æ·å‘½ä»¤é…ç½®ï¼ˆåˆ«åï¼‰" class="headerlink" title="Gitå¿«æ·å‘½ä»¤é…ç½®ï¼ˆåˆ«åï¼‰"></a>Gitå¿«æ·å‘½ä»¤é…ç½®ï¼ˆåˆ«åï¼‰</h2><p>git bashçª—å£ä¸­vi &#x2F;etc&#x2F;bash.bashrcï¼Œåœ¨å°¾éƒ¨æ·»åŠ å¦‚ä¸‹ä»£ç </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs routeros">alias <span class="hljs-attribute">gst</span>=<span class="hljs-string">&#x27;git status&#x27;</span><br>alias <span class="hljs-attribute">gdiff</span>=<span class="hljs-string">&#x27;git diff&#x27;</span><br>alias <span class="hljs-attribute">gadd</span>=<span class="hljs-string">&#x27;git add&#x27;</span><br>alias <span class="hljs-attribute">gci</span>=<span class="hljs-string">&#x27;git commit -m &quot;hello world&quot;&#x27;</span><br>alias <span class="hljs-attribute">gthis</span>=<span class="hljs-string">&#x27;git rev-parse --abbrev-ref HEAD&#x27;</span><br>alias <span class="hljs-attribute">gpush</span>=<span class="hljs-string">&#x27;git push origin `gthis`&#x27;</span><br>alias <span class="hljs-attribute">gco</span>=<span class="hljs-string">&#x27;git checkout&#x27;</span><br>alias <span class="hljs-attribute">gbr</span>=<span class="hljs-string">&#x27;git branch&#x27;</span><br>alias <span class="hljs-attribute">gname</span>=<span class="hljs-string">&#x27;vi /etc/bash.bashrc&#x27;</span><br></code></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯bashçª—å£ï¼Œç”Ÿæ•ˆå¿«æ·å‘½ä»¤æ˜ å°„</p><p>è‹¥ä¿å­˜æ—¶ï¼Œé‡åˆ°[&#x2F;etc&#x2F;bashrc Permission deniedï¼Œåˆ™ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€git bashé‡è¯•å³å¯</p><p><img src="/img/bash-run.png" alt="ç®¡ç†å‘˜æƒé™è¿è¡Œbash"></p><h2 id="è®°å½•Gitç”¨æˆ·åå¯†ç "><a href="#è®°å½•Gitç”¨æˆ·åå¯†ç " class="headerlink" title="è®°å½•Gitç”¨æˆ·åå¯†ç "></a>è®°å½•Gitç”¨æˆ·åå¯†ç </h2><p>git é»˜è®¤æ¯æ¬¡pullç­‰æ“ä½œæ—¶è¦æ±‚è¾“å…¥å¯†ç ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ°¸ä¹…ä¿å­˜å¯†ç ï¼Œå†è¾“å…¥ä¸€æ¬¡åå°±æ— éœ€è¾“å…¥äº†ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">git config credential.helper store<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜é¢‘VIMå‘½ä»¤</title>
    <link href="/2021/11/15/%E9%AB%98%E9%A2%91VIM%E5%91%BD%E4%BB%A4/"/>
    <url>/2021/11/15/%E9%AB%98%E9%A2%91VIM%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="VIMå‘½ä»¤"><a href="#VIMå‘½ä»¤" class="headerlink" title="VIMå‘½ä»¤"></a>VIMå‘½ä»¤</h2><h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><ul><li>normalæ¨¡å¼ä¸‹ç”¨&#x2F;</li><li>ç”¨næŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼ŒNæŸ¥æ‰¾ä¸Šä¸€ä¸ª</li><li>å°¾éƒ¨åŠ \cè¡¨ç¤ºå¤§å°å†™ä¸æ•æ„Ÿï¼Œ\Cæ•æ„Ÿï¼Œå¦‚&#x2F;foll\C</li><li>æŒ‰ä¸‹*ï¼Œå¯æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨å•è¯ï¼ˆå‰åæœ‰ç©ºç™½ï¼‰ï¼Œg*åˆ™å¯æŸ¥å…‰æ ‡æ‰€åœ¨å­—ç¬¦åºåˆ—</li></ul><h4 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h4><ul><li>&#96;&#96;&#96;<br>:{ä½œç”¨èŒƒå›´}s&#x2F;{ç›®æ ‡}&#x2F;{æ›¿æ¢}&#x2F;{æ›¿æ¢æ ‡å¿—}<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><br>+ ```<br>  <span class="hljs-symbol">:%s/foo/bar/gc</span> <br>  <span class="hljs-comment"># %è¡¨ç¤ºä½œç”¨å…¨æ–‡</span><br>  æ›¿æ¢æ ‡å¿—ä¸­gè¡¨ç¤ºæ›¿æ¢æ‰€æœ‰ï¼Œæ²¡æœ‰è¡¨ç¤ºåªæ›¿æ¢ç¬¬ä¸€ä¸ª<br>  æ›¿æ¢æ ‡å¿—ä¸­cè¡¨ç¤ºéœ€ç¡®è®¤<br></code></pre></td></tr></table></figure></li></ul><h4 id="å¤åˆ¶ç²˜è´´"><a href="#å¤åˆ¶ç²˜è´´" class="headerlink" title="å¤åˆ¶ç²˜è´´"></a>å¤åˆ¶ç²˜è´´</h4><ul><li><p><strong>ä»windowså¤åˆ¶åˆ°vim</strong>ï¼Œéœ€å…ˆæŒ‰a&#x2F;i&#x2F;inserté”®è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œå†å³é”®ç²˜è´´ï¼Œå¦åˆ™åœ¨å‘½ä»¤æ¨¡å¼ä¸‹å°†è¯†åˆ«ä¸ºvimå‘½ä»¤ç›´è‡³é‡åˆ°i&#x2F;a</p></li><li><p><strong>å¤åˆ¶é€‰ä¸­åŒº</strong>ï¼Œå…‰æ ‡åœ¨å¤åˆ¶å¼€å§‹åœ°æ–¹æŒ‰vè¿›å…¥å¯è§†æ¨¡å¼ï¼Œç»“æŸåœ°æ–¹æŒ‰yå¤åˆ¶ï¼Œç›´å¾…ç²˜è´´å¤„æŒ‰pç²˜è´´</p></li><li><p>å¤åˆ¶æ•´è¡Œï¼Œyy</p></li><li><p>å‰ªåˆ‡æ•´è¡Œï¼Œdd</p></li><li><p>ç²˜è´´,pï¼Œ ç²˜è´´åœ¨å…‰æ ‡å‰ä¸ºP</p></li></ul><h4 id="å…‰æ ‡è·³è½¬"><a href="#å…‰æ ‡è·³è½¬" class="headerlink" title="å…‰æ ‡è·³è½¬"></a>å…‰æ ‡è·³è½¬</h4><ul><li>æ–‡ä»¶é¦–ï¼š gg</li><li>æ–‡ä»¶å°¾ï¼š shift + g</li><li>æ–‡ä»¶æŒ‡å®šè¡Œï¼š è¡Œå·ï¼ˆå‘½ä»¤è¡Œæ¨¡å¼ï¼‰</li><li>è¡Œé¦–ï¼š homeé”®</li><li>è¡Œå°¾ï¼š endé”®</li></ul><h4 id="æŸ¥å†å²å‘½ä»¤"><a href="#æŸ¥å†å²å‘½ä»¤" class="headerlink" title="æŸ¥å†å²å‘½ä»¤"></a>æŸ¥å†å²å‘½ä»¤</h4><p>çª—å£ä¸­ctrl + Rï¼Œè¾“å…¥å…³é”®è¯å¦‚<code>git commit</code>ï¼Œå°†å‡ºç°ä»¥è¯¥å…³é”®è¯ä¸ºé¦–çš„å†å²å‘½ä»¤ï¼Œé€šè¿‡å¤šæ¬¡ctrl + Ræ¥é€‰æ‹©åˆ‡æ¢å†å²å‘½ä»¤ï¼Œç„¶åé€šè¿‡å³ç®­å¤´é€‰ä¸­å‘½ä»¤</p><p><img src="/img/linux-cmd.png" alt="å†å²å‘½ä»¤"></p><h4 id="tabè®¾ç½®"><a href="#tabè®¾ç½®" class="headerlink" title="tabè®¾ç½®"></a>tabè®¾ç½®</h4><ul><li><p>æ˜¾ç¤ºtab  å‘½ä»¤æ¨¡å¼ä¸‹<code>set list</code></p></li><li><p>è®¾ç½®tabä¸º4ç©ºæ ¼ï¼Œä¸”è‡ªåŠ¨ç¼©è¿›ï¼Œ &#x2F;etc&#x2F;vimrcä¸­æ·»åŠ </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> <span class="hljs-attribute">ts</span>=4<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">softtabstop</span>=4<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">shiftwidth</span>=4<br><span class="hljs-built_in">set</span> expandtab<br><span class="hljs-built_in">set</span> autoindent<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQLè¯­æ³•æ€»ç»“</title>
    <link href="/2021/09/14/sql%E5%AD%A6%E4%B9%A0/"/>
    <url>/2021/09/14/sql%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€-æ‰“å¼€"><a href="#ä¸€-æ‰“å¼€" class="headerlink" title="ä¸€. æ‰“å¼€"></a>ä¸€. æ‰“å¼€</h1><p>æ‰“å¼€SQL sever management studio -&gt; connect -&gt; æ–°å»ºä¸€ä¸ªquery</p><h1 id="äºŒ-SQLè¯­å¥"><a href="#äºŒ-SQLè¯­å¥" class="headerlink" title="äºŒ. SQLè¯­å¥"></a>äºŒ. SQLè¯­å¥</h1><blockquote><p>SQLè¯­å¥å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œåˆ†ä¸ºDDLï¼ˆæ•°æ®å®šä¹‰ï¼‰è¯­å¥ï¼ŒDMLï¼ˆæ•°æ®æ“ä½œï¼‰è¯­å¥ã€‚</p><h4 id="DDLè¯­å¥-åˆ›å»ºã€åˆ é™¤ã€å¢åŠ ç´¢å¼•ã€é”®ã€çº¦æŸ"><a href="#DDLè¯­å¥-åˆ›å»ºã€åˆ é™¤ã€å¢åŠ ç´¢å¼•ã€é”®ã€çº¦æŸ" class="headerlink" title="DDLè¯­å¥: åˆ›å»ºã€åˆ é™¤ã€å¢åŠ ç´¢å¼•ã€é”®ã€çº¦æŸ"></a>DDLè¯­å¥: åˆ›å»ºã€åˆ é™¤ã€å¢åŠ ç´¢å¼•ã€é”®ã€çº¦æŸ</h4><ul><li>CREATE DATABASE - åˆ›å»ºæ–°æ•°æ®åº“</li><li>ALTER DATABASE - ä¿®æ”¹æ•°æ®åº“</li><li>CREATE TABLE - åˆ›å»ºæ–°è¡¨</li><li>ALTER TABLE - å˜æ›´ï¼ˆæ”¹å˜ï¼‰æ•°æ®åº“è¡¨</li><li>DROP TABLE - åˆ é™¤è¡¨</li><li>CREATE INDEX - åˆ›å»ºç´¢å¼•ï¼ˆæœç´¢é”®ï¼‰</li><li>DROP INDEX - åˆ é™¤ç´¢å¼•</li></ul><h4 id="DMLè¯­å¥ï¼šæŸ¥è¯¢å’Œæ›´æ–°"><a href="#DMLè¯­å¥ï¼šæŸ¥è¯¢å’Œæ›´æ–°" class="headerlink" title="DMLè¯­å¥ï¼šæŸ¥è¯¢å’Œæ›´æ–°"></a>DMLè¯­å¥ï¼šæŸ¥è¯¢å’Œæ›´æ–°</h4><ul><li>SELECT - ä»æ•°æ®åº“è¡¨ä¸­è·å–æ•°æ®</li><li>UPDATE - æ›´æ–°æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®</li><li>DELETE - ä»æ•°æ®åº“è¡¨ä¸­åˆ é™¤æ•°æ®</li><li>INSERT INTO - å‘æ•°æ®åº“è¡¨ä¸­æ’å…¥æ•°æ®</li></ul></blockquote><h3 id="1-åˆ‡æ¢æ•°æ®åº“"><a href="#1-åˆ‡æ¢æ•°æ®åº“" class="headerlink" title="1. åˆ‡æ¢æ•°æ®åº“"></a>1. åˆ‡æ¢æ•°æ®åº“</h3><p> <code>use database_name</code></p><h3 id="2-åˆ›å»ºæ•°æ®åº“"><a href="#2-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="2. åˆ›å»ºæ•°æ®åº“"></a>2. åˆ›å»ºæ•°æ®åº“</h3><p> <code>create database database_name</code></p><h3 id="3-åˆ›å»ºè¡¨"><a href="#3-åˆ›å»ºè¡¨" class="headerlink" title="3. åˆ›å»ºè¡¨"></a>3. åˆ›å»ºè¡¨</h3><blockquote><p>create table è¡¨å(<br> åˆ—å1 æ•°æ®ç±»å‹ æ˜¯å¦ä¸ºç©ºï¼ˆå¯çœç•¥ï¼‰,<br> åˆ—å2 æ•°æ®ç±»å‹ æ˜¯å¦ä¸ºç©ºï¼ˆå¯çœç•¥ï¼‰,<br> â€¦<br> )<br> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-operator">/</span><span class="hljs-operator">/</span>å»ºè¡¨students, ä¸»é”®ä¸ºstudent__ID<br> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> students(<br> s_ID <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key,<br> s_name <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,<br> s_sex <span class="hljs-type">char</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,<br> s_phoneNumber <span class="hljs-type">varchar</span>(<span class="hljs-number">11</span>)<br>)<br></code></pre></td></tr></table></figure></p></blockquote><h3 id="4-åˆ é™¤è¡¨"><a href="#4-åˆ é™¤è¡¨" class="headerlink" title="4. åˆ é™¤è¡¨"></a>4. åˆ é™¤è¡¨</h3><p> <code>drop table table_name</code></p><h3 id="5-æ’å…¥æ•°æ®"><a href="#5-æ’å…¥æ•°æ®" class="headerlink" title="5. æ’å…¥æ•°æ®"></a>5. æ’å…¥æ•°æ®</h3><blockquote><ul><li>å¯ä¸å†™å…¨æ‰€æœ‰åˆ—<br> insert into table_name(åˆ—å1ï¼Œåˆ—å2ï¼Œ..)values(å€¼1ï¼Œå€¼2ï¼Œ..)  </li><li>çœç•¥åˆ—åï¼Œå¿…é¡»å†™å…¨æ‰€æœ‰åˆ—<br>insert into table_name values(å€¼1ï¼Œå€¼2ï¼Œ..)</li><li>ä¸€æ¬¡æ€§æ’å…¥å¤šç»„å€¼<br> insert into table_name values<br> (å€¼1ï¼Œå€¼2ï¼Œ..)ï¼Œ<br> (å€¼1ï¼Œå€¼2ï¼Œ..)ï¼Œ<br> (å€¼1ï¼Œå€¼2ï¼Œ..)<br> <strong>æ³¨</strong>ï¼šå­—ç¬¦ä¸²ç”¨å•å¼•å·æ‹¬èµ·æ¥ <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ–¹æ³•<span class="hljs-number">1</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> students(s_ID, s_name, s_sex, s_phoneNumber)<span class="hljs-keyword">values</span>(<span class="hljs-number">01</span>, <span class="hljs-string">&#x27;tom&#x27;</span>, <span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-string">&#x27;121212121&#x27;</span>)<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> students(s_ID, s_name, s_sex)<span class="hljs-keyword">values</span>(<span class="hljs-number">06</span>, <span class="hljs-string">&#x27;luna&#x27;</span>, <span class="hljs-string">&#x27;å¥³&#x27;</span>)<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ–¹æ³•<span class="hljs-number">2</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> students <span class="hljs-keyword">values</span>(<span class="hljs-number">02</span>, <span class="hljs-string">&#x27;jack&#x27;</span>, <span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-string">&#x27;221212121&#x27;</span>)<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ–¹æ³•<span class="hljs-number">3</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> students <span class="hljs-keyword">values</span><br>(<span class="hljs-number">03</span>, <span class="hljs-string">&#x27;Amy&#x27;</span>, <span class="hljs-string">&#x27;å¥³&#x27;</span>,<span class="hljs-string">&#x27;201212121&#x27;</span>),<br>(<span class="hljs-number">04</span>, <span class="hljs-string">&#x27;bree&#x27;</span>, <span class="hljs-string">&#x27;å¥³&#x27;</span>,<span class="hljs-string">&#x27;921212121&#x27;</span>),<br>(<span class="hljs-number">05</span>, <span class="hljs-string">&#x27;mike&#x27;</span>, <span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-string">&#x27;821212121&#x27;</span>)<br></code></pre></td></tr></table></figure></li></ul></blockquote><h3 id="6-åˆ é™¤æ•°æ®"><a href="#6-åˆ é™¤æ•°æ®" class="headerlink" title="6. åˆ é™¤æ•°æ®"></a>6. åˆ é™¤æ•°æ®</h3><blockquote><p>delete from è¡¨å where æ¡ä»¶ï¼Œ&#x3D;&#x3D;æ²¡æœ‰æ¡ä»¶çš„è¯ï¼Œæ•´å¼ è¡¨éƒ½ä¼šè¢«åˆ é™¤&#x3D;&#x3D;<br> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_ID <span class="hljs-operator">=</span> <span class="hljs-number">01</span><br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> students<br></code></pre></td></tr></table></figure></p></blockquote><h3 id="7-ä¿®æ”¹è¡¨ç»“æ„"><a href="#7-ä¿®æ”¹è¡¨ç»“æ„" class="headerlink" title="7. ä¿®æ”¹è¡¨ç»“æ„"></a>7. ä¿®æ”¹è¡¨ç»“æ„</h3><blockquote><p><strong>å¢åŠ åˆ—ï¼š</strong> alter table è¡¨å add  å­—æ®µå æ•°æ®ç±»å‹<br><strong>åˆ é™¤åˆ—ï¼š</strong> alter table è¡¨å drop column å­—æ®µå<br><strong>ä¿®æ”¹å­—æ®µç±»å‹ï¼š</strong> alter table è¡¨å alter column å­—æ®µå æ–°ç±»å‹</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å¢åŠ åˆ—<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> students <span class="hljs-keyword">add</span> s_age <span class="hljs-type">int</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>åˆ é™¤åˆ—<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> students <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> s_age<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>ä¿®æ”¹å­—æ®µç±»å‹<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> students <span class="hljs-keyword">alter</span> <span class="hljs-keyword">column</span> s_age <span class="hljs-type">int</span><br></code></pre></td></tr></table></figure><h3 id="8-æ›´æ”¹æ•°æ®"><a href="#8-æ›´æ”¹æ•°æ®" class="headerlink" title="8. æ›´æ”¹æ•°æ®"></a>8. æ›´æ”¹æ•°æ®</h3><blockquote><p>update è¡¨å set åˆ—å &#x3D; åˆ—å€¼, åˆ—å &#x3D; åˆ—å€¼,.. where æ¡ä»¶, &#x3D;&#x3D;ä¸å†™æ¡ä»¶åˆ™ä¿®æ”¹å…¨è¡¨&#x3D;&#x3D;<br><code>update students set s_age = 20</code></p></blockquote><h3 id="9-æŸ¥è¯¢"><a href="#9-æŸ¥è¯¢" class="headerlink" title="9. æŸ¥è¯¢"></a>9. æŸ¥è¯¢</h3><ul><li><h4 id="æŸ¥å…¨è¡¨"><a href="#æŸ¥å…¨è¡¨" class="headerlink" title="æŸ¥å…¨è¡¨"></a>æŸ¥å…¨è¡¨</h4></li></ul><blockquote><p>select * from è¡¨å</p></blockquote><ul><li><h4 id="æŸ¥éƒ¨åˆ†åˆ—"><a href="#æŸ¥éƒ¨åˆ†åˆ—" class="headerlink" title="æŸ¥éƒ¨åˆ†åˆ—"></a>æŸ¥éƒ¨åˆ†åˆ—</h4></li></ul><blockquote><p>select åˆ—å1, åˆ—å2 from è¡¨å</p></blockquote><ul><li><h4 id="åˆ—å–åˆ«å"><a href="#åˆ—å–åˆ«å" class="headerlink" title="åˆ—å–åˆ«å"></a>åˆ—å–åˆ«å</h4></li></ul><blockquote><p>select åˆ—å1 as æ–°åˆ—å1, åˆ—å2 æ–°åˆ—å2 from è¡¨å<br><strong>æ³¨</strong>ï¼šaså¯ä»¥çœç•¥</p></blockquote><ul><li><h4 id="åˆ—ååŠ è¿ç®—ç¬¦"><a href="#åˆ—ååŠ è¿ç®—ç¬¦" class="headerlink" title="åˆ—ååŠ è¿ç®—ç¬¦"></a>åˆ—ååŠ è¿ç®—ç¬¦</h4></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å­¦ç”Ÿå§“åä»¥åŠå­¦ç”Ÿä¸¤å¹´å‰çš„å¹´é¾„<br><span class="hljs-keyword">select</span> s_name <span class="hljs-keyword">as</span> å§“å, s_age<span class="hljs-number">-2</span> ä¸¤å¹´å‰çš„å¹´é¾„ <span class="hljs-keyword">from</span> students<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å­¦ç”Ÿå§“åã€ä¸¤å¹´å‰çš„å¹´é¾„<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>isnull(expr1,expr2)ç”¨äºé¿å…<span class="hljs-keyword">null</span>å€¼å‚ä¸è®¡ç®—  MySQLç”¨ifnull()<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å¦‚æœexpr1æ˜¯<span class="hljs-keyword">null</span>,å‡½æ•°çš„ç»“æœå°±æ˜¯expr2;å¦åˆ™å°±æ˜¯expr1<br><span class="hljs-keyword">select</span> s_name, isnull(s_age, <span class="hljs-number">20</span>)<span class="hljs-number">-2</span> <span class="hljs-keyword">from</span> students<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å¯ç”¨<span class="hljs-operator">+</span>åšå­—ç¬¦ä¸²æˆ–åˆ—ä¸åˆ—çš„æ‹¼æ¥,åˆ—å¾—æ˜¯å­—ç¬¦ä¸²å‹ <br><span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;å§“å:&#x27;</span><span class="hljs-operator">+</span>s_name<span class="hljs-operator">+</span>s_sex <span class="hljs-keyword">from</span> students<br></code></pre></td></tr></table></figure><ul><li><h4 id="distinctå…³é”®å­—"><a href="#distinctå…³é”®å­—" class="headerlink" title="distinctå…³é”®å­—"></a>distinctå…³é”®å­—</h4></li></ul><blockquote><p>å»æ‰é‡å¤çš„è¡Œï¼Œæ‰€æŸ¥å­—æ®µéƒ½ä¸€æ ·æ‰ä¼šè¢«å»æ‰<br><code>select distinct class_ID, s_name from students</code></p></blockquote><ul><li><h4 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h4></li></ul><blockquote><ol><li>æ¯”è¾ƒè¿ç®—ï¼š&gt;ã€&lt; ã€&gt;&#x3D;ã€&lt;&#x3D;ã€&#x3D;ã€&#x3D; ã€!&#x3D;æˆ–&lt;&gt;<br><strong>æ³¨</strong>ï¼š nullå€¼ä¸èƒ½ä½œæ¯”è¾ƒ<br>NULLå€¼ä¸ä»»ä½•å…¶å®ƒå€¼çš„æ¯”è¾ƒï¼ˆå³ä½¿æ˜¯NULLï¼‰æ°¸è¿œä¸ä¼šä¸ºâ€œçœŸâ€</li><li>between â€¦ and â€¦ æ•°å€¼èŒƒå›´æ¡ä»¶<br><strong>æ³¨</strong>ï¼šåŒ…æ‹¬è¾¹ç•Œ</li><li>inå…³é”®å­—ï¼Œé›†åˆåˆ—è¡¨èŒƒå›´æŸ¥è¯¢<br><strong>æ³¨</strong>ï¼šnot iné›†åˆé‡Œä¸èƒ½åŒ…å«nullå€¼ï¼Œå› ä¸ºè¦åˆ¤æ–­å’Œé›†åˆé‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ç­‰æ‰ä¼šè¿”å›trueï¼ŒåŒ…å«nullå€¼æ— æ³•æ¯”è¾ƒï¼Œä»»ä½•ä¸ä¹‹æ¯”è¾ƒçš„å…ƒç´ éƒ½ä¼šè¿”å›false</li></ol></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢tomçš„å…¨éƒ¨ä¿¡æ¯<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;tom&#x27;</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢ä¸å±äº<span class="hljs-number">1</span>ç­çš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> class_ID <span class="hljs-operator">!=</span> <span class="hljs-number">1</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å¹´é¾„åœ¨<span class="hljs-number">21</span><span class="hljs-number">-29</span>ä¹‹é—´çš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_age <span class="hljs-keyword">between</span> <span class="hljs-number">21</span> <span class="hljs-keyword">and</span> <span class="hljs-number">29</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥Jackã€lindaã€tomçš„ä¿¡æ¯<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;jack&#x27;</span>,<span class="hljs-string">&#x27;linda&#x27;</span>,<span class="hljs-string">&#x27;tom&#x27;</span>)<br></code></pre></td></tr></table></figure><blockquote><ol start="4"><li>é€»è¾‘è¿ç®—ï¼šandã€orã€not<br><strong>æ³¨</strong>ï¼šandçš„ä¼˜å…ˆçº§é«˜äºorï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å°æ‹¬å·å¼ºåˆ¶ä¼˜å…ˆçº§</li></ol></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å±äº<span class="hljs-number">1</span>ç­ä¸”å­¦å·å°äº<span class="hljs-number">5</span>çš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> class_ID <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> s_ID <span class="hljs-operator">&lt;</span> <span class="hljs-number">5</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢é™¤tomä¹‹å¤–çš„å­¦ç”Ÿä¿¡æ¯<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> <span class="hljs-keyword">not</span> s_name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;tom&#x27;</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å§“åä¸ºtomï¼Œæˆ–å­¦å·ä¸º<span class="hljs-number">2</span>çš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;tom&#x27;</span> <span class="hljs-keyword">or</span> s_ID <span class="hljs-operator">=</span> <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><blockquote><ol start="5"><li>åˆ¤ç©ºï¼š is nullã€is not null</li></ol></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢ç”µè¯å·ç ä¸ºç©ºçš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_phoneNumber <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span><br></code></pre></td></tr></table></figure><blockquote><ol start="5"><li>æ¨¡ç³ŠæŸ¥è¯¢ï¼šlike + %æˆ–_<br> %è¡¨ç¤º0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œ_è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å§“åä»¥lå¼€å¤´çš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;l%&#x27;</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢åå­—é‡Œå«mçš„å­¦ç”Ÿ<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%m%&#x27;</span><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢åå­—ç¬¬äºŒä¸ªå­—ç¬¦ä¸ºoçš„<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <span class="hljs-keyword">where</span> s_name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;_o%&#x27;</span><br></code></pre></td></tr></table></figure></li></ol></blockquote><ul><li><h4 id="order-by-å¯¹ç»“æœé›†æ’åº"><a href="#order-by-å¯¹ç»“æœé›†æ’åº" class="headerlink" title="order by å¯¹ç»“æœé›†æ’åº"></a>order by å¯¹ç»“æœé›†æ’åº</h4></li></ul><blockquote><p>é»˜è®¤å‡åºasc,é™åºä¸ºdesc<br> <strong>æ³¨</strong>ï¼šå‡åºnullå€¼ä¼šæ’åœ¨æœ€å‰é¢<br> select åˆ—1ï¼Œ åˆ—2 from è¡¨å order by åˆ—å1<br> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-operator">/</span><span class="hljs-operator">/</span>å…ˆæŒ‰å¹´é¾„å‡åºï¼Œå¹´é¾„ä¸€æ ·åˆ™æŒ‰å­¦å·å‡åº<br><span class="hljs-keyword">select</span> s_name, s_age, s_ID <span class="hljs-keyword">from</span> students <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> s_age, s_ID <br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å…ˆæŒ‰å¹´é¾„é™åºï¼Œå¹´é¾„ä¸€æ ·æŒ‰å­¦å·å‡åº<br> <span class="hljs-keyword">select</span> s_name, s_age, s_ID <span class="hljs-keyword">from</span> students <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> s_age <span class="hljs-keyword">desc</span>, s_ID<br></code></pre></td></tr></table></figure></p></blockquote><ul><li><h4 id="topå…³é”®å­—ï¼šé™å®šæŸ¥è¯¢è®°å½•æ¡æ•°"><a href="#topå…³é”®å­—ï¼šé™å®šæŸ¥è¯¢è®°å½•æ¡æ•°" class="headerlink" title="topå…³é”®å­—ï¼šé™å®šæŸ¥è¯¢è®°å½•æ¡æ•°"></a>topå…³é”®å­—ï¼šé™å®šæŸ¥è¯¢è®°å½•æ¡æ•°</h4></li></ul><p>  <strong>æ³¨</strong>ï¼šmysqlç”¨limit(a, b),è¡¨ç¤ºä»aå¼€å§‹æ¡è®°å½•ï¼Œaä»0å¼€å§‹è®¡æ•°ã€‚limit(n)è¡¨ç¤ºè¿”å›å‰næ¡<br>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢å‰ä¸‰åå­¦ç”Ÿ<br><span class="hljs-keyword">select</span> top <span class="hljs-number">3</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥ç¬¬n<span class="hljs-operator">-</span>mæ¡è®°å½•<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-keyword">select</span> top m<span class="hljs-operator">-</span>n<span class="hljs-operator">+</span><span class="hljs-number">1</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> è¡¨å <span class="hljs-keyword">where</span> åˆ—å <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> top n<span class="hljs-number">-1</span> åˆ—å <span class="hljs-keyword">from</span> è¡¨å)<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢<span class="hljs-number">2</span><span class="hljs-number">-7</span>åå­¦ç”Ÿ<br><span class="hljs-keyword">select</span> top <span class="hljs-number">6</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> students <br><span class="hljs-keyword">where</span> s_ID <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> top <span class="hljs-number">1</span> s_ID <span class="hljs-keyword">from</span> students)<br></code></pre></td></tr></table></figure></p><ul><li><h4 id="èšåˆå‡½æ•°ï¼šmaxã€minã€countã€sumã€avg"><a href="#èšåˆå‡½æ•°ï¼šmaxã€minã€countã€sumã€avg" class="headerlink" title="èšåˆå‡½æ•°ï¼šmaxã€minã€countã€sumã€avg"></a>èšåˆå‡½æ•°ï¼šmaxã€minã€countã€sumã€avg</h4></li></ul><blockquote><p><strong>æ³¨</strong>ï¼šcount(),åªè¦æ‹¬å·é‡Œçš„ä¸ä¸ºnullï¼Œéƒ½åŠ 1<br>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥å¹´é¾„æ€»å€¼ã€æœ€å¤§å€¼ã€ç”µè¯ä¸ä¸ºç©ºè®°å½•æ•°<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(s_age) sum, <span class="hljs-built_in">max</span>(s_age) max, <span class="hljs-built_in">avg</span>(s_age) avg, <span class="hljs-built_in">count</span>(s_phoneNumber) count <span class="hljs-keyword">from</span> students<br></code></pre></td></tr></table></figure></p></blockquote><ul><li><h4 id="åˆ†ç»„æŸ¥è¯¢ï¼šgroup-by"><a href="#åˆ†ç»„æŸ¥è¯¢ï¼šgroup-by" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢ï¼šgroup by"></a>åˆ†ç»„æŸ¥è¯¢ï¼šgroup by</h4></li></ul><blockquote><p><strong>æ³¨</strong>ï¼šæŸ¥è¯¢çš„åˆ—è¦åœ¨group byå­å¥ä¸­ï¼›sql sever ä¸èƒ½å–åˆ«åï¼Œ MySQLå¯ä»¥<br>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŒ‰å¹´é¾„åˆ†ç»„<br><span class="hljs-keyword">select</span> s_age <span class="hljs-keyword">from</span> students <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> s_age<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>è®¡ç®—æ¯ç»„è®°å½•æ•°<br><span class="hljs-keyword">select</span> s_age, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> students <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> s_age<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŒ‰å¹´é¾„å’Œæ€§åˆ«åˆ†ç»„<br><span class="hljs-keyword">select</span> s_age, s_sex <span class="hljs-keyword">from</span> students <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> s_age, s_sex<br></code></pre></td></tr></table></figure><br>  <strong>æ³¨</strong>ï¼šåœ¨whereè¯­å¥ä¸­ä¸èƒ½ä½¿ç”¨èšåˆå‡½æ•°ï¼Œå¯ä»¥åœ¨havingè¯­å¥ä¸­ä½¿ç”¨èšåˆå‡½æ•°</p></blockquote><p> whereæ˜¯å¯¹æ¯æ¡è¡¨è®°å½•çš„æ¡ä»¶é™å®šï¼Œhavingæ˜¯å¯¹ç»“æœé›†è®°å½•çš„æ¡ä»¶é™å®š<br> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> s_sex, <span class="hljs-built_in">avg</span>(s_age) <span class="hljs-keyword">from</span> students <br><span class="hljs-keyword">group</span> bys_sex <br><span class="hljs-keyword">having</span> <span class="hljs-built_in">avg</span>(s_age) <span class="hljs-operator">&gt;</span> <span class="hljs-number">25</span><br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å…ˆç­›å‡ºå¹´é¾„<span class="hljs-operator">&gt;</span><span class="hljs-number">25</span>çš„ï¼Œå†æŒ‰å¹´é¾„åˆ†ç»„ï¼Œåœ¨ç­›å‡ºåˆ†ç»„åå¹´é¾„å¤§äº<span class="hljs-number">29</span>çš„<br> <span class="hljs-keyword">select</span> s_age <span class="hljs-keyword">from</span> students <br> <span class="hljs-keyword">where</span> s_age <span class="hljs-operator">&gt;</span> <span class="hljs-number">25</span> <br> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> s_age <br> <span class="hljs-keyword">having</span> s_age <span class="hljs-operator">&gt;</span> <span class="hljs-number">29</span><br></code></pre></td></tr></table></figure></p><ul><li><h4 id="å¤šè¡¨è¿æ¥"><a href="#å¤šè¡¨è¿æ¥" class="headerlink" title="å¤šè¡¨è¿æ¥"></a>å¤šè¡¨è¿æ¥</h4></li></ul><blockquote><ol><li>ç­‰å€¼è¿æ¥ <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥å­¦ç”Ÿä¿¡æ¯å’Œä¸“ä¸š<br><span class="hljs-keyword">select</span> student.<span class="hljs-operator">*</span>, class.Speciality <br><span class="hljs-keyword">from</span> student, class <br><span class="hljs-keyword">where</span> student.clno <span class="hljs-operator">=</span> class.clno<br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>å–åˆ«å<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student s, class c <span class="hljs-keyword">where</span> s.clno <span class="hljs-operator">=</span> c.clno<br></code></pre></td></tr></table></figure></li><li>å†…è¿æ¥<br>  select åˆ—1ï¼Œåˆ—2 from è¡¨1<br>inner join è¡¨2<br>on ç­‰å€¼æ¡ä»¶  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> s.<span class="hljs-operator">*</span>, c.Speciality <span class="hljs-keyword">from</span> student s <br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> class c <span class="hljs-keyword">on</span> s.clno <span class="hljs-operator">=</span> c.clno <br><span class="hljs-keyword">where</span> sage <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure>  <strong>æ³¨</strong>ï¼šå†…è¿æ¥çš„ç»“æœå’Œç­‰å€¼è¿æ¥çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯å†™æ³•ä¸åŒ<br>  åªä¼šæ˜¾ç¤ºç¬¦åˆè¿æ¥æ¡ä»¶çš„æ•°æ®ï¼Œä¸ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®</li><li>å¤–è¿æ¥ï¼š<br>åˆ†ä¸ºå·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ï¼Œå·¦å¤–è¿æ¥ä¼šåˆ—å‡ºå·¦è¡¨å…¨éƒ¨è®°å½•ï¼Œå³è¡¨æ²¡æœ‰ç¬¦åˆçš„è®°å½•åˆ™ç”¨nullå€¼å¡«å……ï¼›å³å¤–è¿æ¥ä¼šåˆ—å‡ºå³è¡¨å…¨éƒ¨è®°å½•ï¼Œå·¦è¡¨æ²¡æœ‰ç¬¦åˆçš„è®°å½•åˆ™ç”¨nullå€¼å¡«å……  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> student s <span class="hljs-keyword">right</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> class c <span class="hljs-keyword">on</span> c.clno <span class="hljs-operator">=</span> s.clno<br></code></pre></td></tr></table></figure></li><li>å…¨è¿æ¥ï¼šè¡¨1 full join è¡¨2 on è¿æ¥æ¡ä»¶<br>   <strong>æ³¨</strong>ï¼šmysqlæ²¡æœ‰full joinï¼Œå¯ç”¨å·¦è¿æ¥unionå³è¿æ¥ä»£æ›¿</li></ol></blockquote><ul><li><h4 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h4></li></ul><blockquote><ul><li>ç›¸å…³å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢ä¸­éœ€è¦ç”¨åˆ°çˆ¶æŸ¥è¯¢ä¸­çš„å€¼<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æŸ¥è¯¢æŸåŒå­¦é€‰ä¿®è¯¾ç¨‹æˆç»©é«˜äºä»–é€‰ä¿®çš„æ‰€æœ‰è¯¾ç¨‹å¹³å‡æˆç»©çš„è¯¾ç¨‹å·<br><span class="hljs-keyword">select</span> cno <span class="hljs-keyword">from</span> sc x <span class="hljs-keyword">where</span> grade <span class="hljs-operator">&gt;</span> <br>(<span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(grad) <span class="hljs-keyword">from</span> sc y <span class="hljs-keyword">where</span> x.sno <span class="hljs-operator">=</span> y.sno)<br></code></pre></td></tr></table></figure>å·¥ä½œåŸç†ï¼šæ‰«æçˆ¶æŸ¥è¯¢è¡¨ï¼ˆå¦‚ SC è¡¨ï¼‰ä¸­çš„æ¯ä¸€æ¡è®°å½•ï¼Œç„¶åå°†å½“å‰è¿™æ¡è®°å½•ä¸­çš„ï¼Œåœ¨å­æŸ¥è¯¢ä¸­ä¼šç”¨åˆ°çš„å€¼ä»£å…¥åˆ°å­æŸ¥è¯¢ä¸­å»ï¼Œç„¶åæ‰§è¡Œå­æŸ¥è¯¢å¹¶å¾—åˆ°ç»“æœï¼ˆå¯ä»¥çœ‹æˆæ˜¯è¿”å›å€¼ï¼‰ï¼Œç„¶åå†å°†è¿™ä¸ªç»“æœä»£å…¥åˆ°çˆ¶æŸ¥è¯¢çš„æ¡ä»¶ä¸­ï¼Œåˆ¤æ–­çˆ¶æŸ¥è¯¢çš„æ¡ä»¶è¡¨è¾¾å¼çš„å€¼æ˜¯å¦ä¸º Trueï¼Œè‹¥ä¸º Trueï¼Œåˆ™å°†å½“å‰ SC è¡¨ä¸­çš„è¿™æ¡è®°å½•æ”¾åˆ°ç»“æœé›†ä¸­å»ã€‚è‹¥ä¸º False åˆ™ä¸æ”¾ã€‚</li><li>éç›¸å…³å­æŸ¥è¯¢ï¼šè„±ç¦»çˆ¶æŸ¥è¯¢å•ç‹¬æ‰§è¡Œ</li><li>å­æŸ¥è¯¢çš„ç»“æœåªæœ‰ä¸€è¡Œå°±æ˜¯<strong>å•è¡Œå­æŸ¥è¯¢</strong>ï¼›åä¹‹å°±æ˜¯<strong>å¤šè¡Œå­æŸ¥è¯¢</strong>ã€‚å•è¡Œå­æŸ¥è¯¢åªèƒ½è¿›è¡Œæ¯”è¾ƒã€‚å¤šè¡Œå­æŸ¥è¯¢å¯ç”¨inã€anyã€allã€existsã€not exists<br><strong>existåŸç†</strong>ï¼š<a href="https://zhuanlan.zhihu.com/p/20005249">https://zhuanlan.zhihu.com/p/20005249</a></li></ul></blockquote><ul><li><h4 id="å–äº¤é›†ï¼šunionã€union-all"><a href="#å–äº¤é›†ï¼šunionã€union-all" class="headerlink" title="å–äº¤é›†ï¼šunionã€union all"></a>å–äº¤é›†ï¼šunionã€union all</h4><blockquote><p>unionä¼šæ’é™¤é‡å¤è¡Œï¼Œå¹¶æ’åºï¼Œunion allä¸ä¼š<br>union allæ‰§è¡Œæ•ˆç‡æ›´é«˜</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql">  <span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ‰¾å‡ºidä¸ºå¥‡æ•°ä¸”nameä¸ä»¥må¼€å¤´çš„å‘˜å·¥bonusä¸ºsalaryï¼Œå¦åˆ™ä¸º<span class="hljs-number">0</span>ï¼Œå¹¶æ’åº<br>  <span class="hljs-keyword">select</span> employee_id, salary bonus <span class="hljs-keyword">from</span> Employees  <br>  <span class="hljs-keyword">where</span> employee_id <span class="hljs-operator">%</span> <span class="hljs-number">2</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;m%&#x27;</span>  <br>  <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span>  <br>  <span class="hljs-keyword">select</span> employee_id, salary<span class="hljs-operator">*</span><span class="hljs-number">0</span> bonus <span class="hljs-keyword">from</span> Employees  <br>  <span class="hljs-keyword">where</span> employee_id <span class="hljs-operator">%</span> <span class="hljs-number">2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;m%&#x27;</span><br>  <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> employee_id<br>  ```  <br># ä¸‰ã€ä¾‹å¥<br><span class="hljs-number">1.</span> <span class="hljs-keyword">case</span>ç”¨æ³•<br>``` <span class="hljs-keyword">sql</span><br><span class="hljs-keyword">select</span> id,<br>    <span class="hljs-keyword">case</span> <span class="hljs-keyword">when</span> p_id <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;Root&#x27;</span><br>        <span class="hljs-keyword">when</span> id <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> p_id <span class="hljs-keyword">from</span> tree) <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;Inner&#x27;</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;Leaf&#x27;</span><br>    <span class="hljs-keyword">end</span> <span class="hljs-keyword">as</span> Type<br><span class="hljs-keyword">from</span> tree<br></code></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>mysql</strong> datadiff(date1, date2)å‡½æ•°<blockquote><p>å‡½æ•°è¿”å›date1 -date2çš„è®¡ç®—ç»“æœ;å¦‚æœå‚æ•°ä¼ é€’çš„æ˜¯æ—¥æœŸæ—¶é—´å€¼ï¼ŒDATEDIFFå‡½æ•°ä»…å°†æ—¥æœŸéƒ¨åˆ†ç”¨äºè®¡ç®—ï¼Œå¹¶&#x3D;&#x3D;å¿½ç•¥æ—¶é—´éƒ¨åˆ†&#x3D;&#x3D;</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> activity_date <span class="hljs-keyword">day</span>, <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span>  user_id) active_users<br><span class="hljs-keyword">FROM</span> Activity<br><span class="hljs-keyword">WHERE</span> DATEDIFF(&quot;2019-07-27&quot;, activity_date) <span class="hljs-operator">&lt;</span> <span class="hljs-number">30</span> <span class="hljs-keyword">AND</span> DATEDIFF(&quot;2019-07-27&quot;, activity_date) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">0</span><br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> activity_date;<br></code></pre></td></tr></table></figure><blockquote><p>TIMESTAMPDIFF(DAY,start,end):è¿”å›ä¸¤ä¸ªæ—¥æœŸæŒ‡å®šå•ä½çš„æ—¶é—´å·®(æŒ‡å®šå•ä½å¯ä»¥æ˜¯å¹´ï¼Œå­£åº¦ï¼Œæœˆï¼Œæ˜ŸæœŸï¼Œå¤©æ•°ï¼Œå°æ—¶ï¼Œåˆ†é’Ÿï¼Œç§’ç­‰ç­‰)</p></blockquote></li><li>if(æ¡ä»¶, ä¸ºtrueæ—¶&#x3D;, ä¸ºfalseæ—¶&#x3D;)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>æ€§åˆ«è½¬æ¢<br><span class="hljs-keyword">update</span> Salary <span class="hljs-keyword">set</span> sex <span class="hljs-operator">=</span> if(sex <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><strong>æ³¨</strong>ï¼šå­æŸ¥è¯¢è¦å‘½åï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚<br>  <strong>æ³¨</strong>ï¼šä¸èƒ½åœ¨åŒä¸€ä¸ª sql è¯­å¥ä¸­ï¼Œå…ˆ select åŒä¸€ä¸ªè¡¨çš„æŸäº›å€¼ï¼Œç„¶åå† update è¿™ä¸ªè¡¨ã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">from</span> Person <span class="hljs-keyword">Where</span> Id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <br>(<span class="hljs-keyword">select</span> Id <span class="hljs-keyword">from</span> <br>( <span class="hljs-keyword">Select</span> <span class="hljs-built_in">MIN</span>(Id) <span class="hljs-keyword">as</span> Id <span class="hljs-keyword">From</span> Person <span class="hljs-keyword">Group</span> <span class="hljs-keyword">by</span> Email ) t)<br></code></pre></td></tr></table></figure></li><li>concat(a, b)æ‹¼æ¥a,b ;left(name,count)è¿”å›nameå‰countå­—ç¬¦ã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> user_id, <br>concat(<span class="hljs-built_in">upper</span>(<span class="hljs-keyword">left</span>(name, <span class="hljs-number">1</span>)), <span class="hljs-built_in">lower</span>(substr(name, <span class="hljs-number">2</span>))) name<br><span class="hljs-keyword">from</span> Users <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> user_id<br></code></pre></td></tr></table></figure></li><li>groupconcat()ï¼šå°†åˆ†ç»„åæ¯ç»„çš„æŸä¸€å­—æ®µæ‹¼æ¥èµ·æ¥ã€‚é»˜è®¤ç”¨,åˆ†å‰²<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> sell_date,<span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> product) num_sold,<br>group_concat(<span class="hljs-keyword">distinct</span> product separator <span class="hljs-string">&#x27;,&#x27;</span>) products<br><span class="hljs-keyword">from</span> activities<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> sell_date<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> sell_date<br></code></pre></td></tr></table></figure></li><li>with tableA asï¼ˆselectè¯­å¥ï¼‰ï¼šç›¸å½“äºå»ºç«‹äº†ä¸€ä¸ªä¸´æ—¶è¡¨tableA<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">with</span> tmp <span class="hljs-keyword">as</span><br>(<span class="hljs-keyword">select</span> employee_id <span class="hljs-keyword">from</span> Employees<br><span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span><br><span class="hljs-keyword">select</span> employee_id <span class="hljs-keyword">from</span> Salaries)<br><span class="hljs-keyword">select</span> employee_id <span class="hljs-keyword">from</span> tmp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> <span class="hljs-number">1</span> <span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-number">1</span> <br></code></pre></td></tr></table></figure></li><li><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span>åŠ å¼•å·è¡¨ç¤ºå°†å›ºå®šå€¼store1æ”¾åˆ°åˆ—store<br><span class="hljs-keyword">select</span> product_id,&quot;store1&quot; store, store1 price <span class="hljs-keyword">from</span> Products <span class="hljs-keyword">where</span> store1 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span><br></code></pre></td></tr></table></figure></li></ol><h1 id="å››ã€"><a href="#å››ã€" class="headerlink" title="å››ã€"></a>å››ã€</h1><ol><li>e-rå›¾ä¸å…³ç³»æ¨¡å¼è½¬æ¢<ul><li>1å¯¹1å…³ç³»ï¼šä»»ä¸€æ–¹çš„ä¸»é”®åŠ å…¥åˆ°å¦ä¸€æ–¹ä¸­ã€‚</li><li>1å¯¹nå…³ç³»ï¼š1æ–¹çš„ä¸»é”®åŠ å…¥åˆ°næ–¹ï¼Œå¹¶æŠŠè”ç³»ä¸Šçš„å±æ€§ä¹ŸåŠ å…¥åˆ°næ–¹ã€‚</li><li>må¯¹nå…³ç³»ï¼šè”ç³»è‡ªæˆä¸€å¼ è¡¨ï¼Œå¹¶æŠŠåŒæ–¹çš„ä¸»é”®åŠ è¿›æ¥å½“è”åˆä¸»é”®ã€‚</li></ul></li><li>æ•°æ®åº“è®¾è®¡è§„èŒƒâ€”â€”ä¸‰å¤§èŒƒå¼</li></ol><ul><li>ç¬¬ä¸€èŒƒå¼ï¼šä¿æŒæ¯åˆ—çš„åŸå­æ€§ï¼Œå³æ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸å¯æ‹†åˆ†çš„åŸå­å€¼ã€‚</li><li>ç¬¬äºŒèŒƒå¼ï¼šç¡®ä¿æ¯åˆ—éƒ½å’Œä¸»é”®ç›¸å…³ï¼Œè€Œä¸èƒ½å’Œä¸»é”®çš„æŸä¸€éƒ¨åˆ†ç›¸å…³ï¼ˆé’ˆå¯¹è”åˆä¸»é”®ï¼‰ã€‚ä¸ºé¿å…æ•°æ®å†—ä½™ã€‚<br>  å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼šæ•°æ®å†—ä½™ã€åˆ é™¤å¼‚å¸¸ã€æ’å…¥å¼‚å¸¸ã€æ›´æ–°å¼‚å¸¸<br>  ä¾‹å¦‚ï¼šè®¢å•ä¿¡æ¯è¡¨ä¸­ä¸»é”®ä¸ºè®¢å•ç¼–å·å’Œå•†å“ç¼–å·ï¼Œå±æ€§åŒ…æ‹¬ï¼Œå•†å“è®¢è´­æ•°é‡ï¼Œå•†å“ä»·æ ¼ï¼Œå•†å“å‹å·ç­‰ã€‚å› ä¸ºå­˜åœ¨ä¸åŒè®¢å•è®¢è´­åŒä¸€å•†å“ï¼Œå› æ­¤åŒä¸€ä¸ªå•†å“çš„ä¿¡æ¯å¯èƒ½è¢«è®°å½•å¤šæ¬¡ï¼ˆæ•°æ®å†—ä½™ï¼‰ï¼›åˆ é™¤ä¸€æ¡è®°å½•å¯èƒ½ä¼šåˆ é™¤ä¸€ç±»å•†å“çš„ä¿¡æ¯ï¼ˆåˆ é™¤å¼‚å¸¸ï¼‰ï¼›æ’å…¥ä¸€ä¸ªå•†å“ä¿¡æ¯å¿…é¡»è¦æœ‰è®¢å•å·ï¼ˆæ’å…¥å¼‚å¸¸ï¼‰ï¼›æ›´æ–°ä¸€ç±»å•†å“ä¿¡æ¯è¦æ“ä½œå¥½å‡ è¡Œï¼ˆæ›´æ–°å¼‚å¸¸ï¼‰ã€‚<br>  å®ƒä¸æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼Œå•†å“ä»·æ ¼ã€å•†å“å‹å·åªä¸å•†å“æœ‰å…³ï¼Œåº”è¯¥å»ºä¸€å¼ å•†å“è¡¨ï¼Œè®¢å•ä¿¡æ¯è¡¨åªä¿ç•™å•†å“ç¼–å·ã€è®¢è´­æ•°é‡ç­‰ã€‚</li><li>ç¬¬ä¸‰èŒƒå¼ï¼šå¿…é¡»æ»¡è¶³ç¬¬äºŒèŒƒå¼ã€‚éä¸»å±æ€§å¿…é¡»ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œä¸èƒ½ä¼ é€’ä¾èµ–äºéä¸»å±æ€§ã€‚</li></ul><ol start="3"><li>å‡½æ•°ä¾èµ–<ul><li>éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼šï¼ˆA,Bï¼‰å†³å®šC,Aä¹Ÿèƒ½å†³å®šCæˆ–Bä¹Ÿèƒ½å†³å®šCï¼Œåˆ™Céƒ¨åˆ†ä¾èµ–äºï¼ˆA,Bï¼‰</li><li>å®Œå…¨å‡½æ•°ä¾èµ–ï¼šï¼ˆA,Bï¼‰å†³å®šC,Aä¸èƒ½å†³å®šC,Bä¸èƒ½å†³å®šCï¼Œåˆ™Cå®Œå…¨å‡½æ•°ä¾èµ–äºï¼ˆA,Bï¼‰</li><li>ä¼ é€’ä¾èµ–ï¼šA-&gt;B(B!-&gt;A),B-&gt;Cï¼Œåˆ™Cä¼ é€’ä¾èµ–äºx<br>ä¾‹ï¼šå­¦å·ï¼Œå®¿èˆï¼Œä½å®¿è´¹</li></ul></li><li><ul><li>mysqlçš„æ‰§è¡Œè¿‡ç¨‹<br><a href="https://www.jianshu.com/p/338092a0a8c6">https://www.jianshu.com/p/338092a0a8c6</a></li><li>ç´¢å¼•<a href="https://bbs.huaweicloud.com/blogs/333163">https://bbs.huaweicloud.com/blogs/333163</a></li></ul></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdownå­¦ä¹ ç¬”è®°</title>
    <link href="/2021/08/10/markdown%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/08/10/markdown%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p>#<del>######ï¼šä¸€çº§æ ‡é¢˜</del>å…­çº§æ ‡é¢˜ï¼ˆä¸€çº§æœ€å¤§ï¼‰</p><p>åˆ—è¡¨ï¼š<br>åœ¨é¦–éƒ¨æ·»åŠ  -ã€+ã€* å¯å½¢æˆæ— åºåˆ—è¡¨<br>æ•°å­—åŠ . å¯å½¢æˆæœ‰åºåˆ—è¡¨</p><p>æ–‡å­—æ ·å¼ï¼š<br>åŠ ç²—ï¼š<strong>æ–‡å­—</strong><br>æ ‡è®°ï¼š&#x3D;&#x3D;æ–‡å­—&#x3D;&#x3D; ï¼ˆæ–‡å­—ä¼šå˜é»„ï¼‰<br>åˆ é™¤æ–‡æœ¬ï¼š<del>æ–‡å­—</del> ï¼ˆæ–‡å­—ä¼šç”»ä¸Šä¸€æ¡çº¿ï¼‰</p><p>å›¾ç‰‡ï¼š<br><img src="/%E9%93%BE%E6%8E%A5" alt="æ–‡å­—ï¼Œå¯çœç•¥"></p><p>é“¾æ¥:<br><a href="%E9%93%BE%E6%8E%A5">æ–‡å­—</a><br>æˆ–è€…ç›´æ¥ç”¨&lt;&gt;æ‹¬èµ·æ¥</p><p>å¼•ç”¨</p><blockquote><p>ã€&gt;&gt;ã€&gt;&gt;&gt;åˆ†åˆ«è¡¨ç¤ºä¸€çº§ã€äºŒçº§ã€ä¸‰çº§å¼•ç”¨ï¼ˆå¼•ç”¨å°±æ˜¯ç”¨ç°æ¡†æ¡†èµ·æ¥,é‡Œé¢å¯ä»¥æ”¾æ–‡å­—ã€ä»£ç ã€åˆ†å‰²çº¿ã€æ ‡é¢˜ã€åˆ—è¡¨ç­‰ï¼‰</p></blockquote><p>ä»£ç ï¼š<br>è¡Œå†…ä»£ç ï¼Œç”¨&#96;&#96;åŒ…èµ·æ¥<br>ä»£ç å—ï¼Œç”¨</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ä»£ç å—<br></code></pre></td></tr></table></figure><p>(ä»£ç é«˜äº®æ˜¾ç¤ºåœ¨&#96;&#96;&#96;åé¢åŠ ç©ºæ ¼å’Œè¯­è¨€ç§ç±»)</p><p>è¡¨æ ¼ï¼š</p><table><thead><tr><th align="left">æ ‡é¢˜</th><th>æ ‡é¢˜</th><th align="right">æ ‡é¢˜</th></tr></thead><tbody><tr><td align="left">å±…å·¦</td><td>å±…ä¸­</td><td align="right">å±…å³</td></tr><tr><td align="left">å†’å·åœ¨å·¦è¾¹</td><td>æ²¡æœ‰å†’å·</td><td align="right">å†’å·åœ¨å³è¾¹</td></tr></tbody></table><p>åˆ†å‰²çº¿<br>ç”¨ä¸‰ä¸ªä»¥ä¸Š*æˆ–-æˆ–_</p><p>è„šæ³¨<br>æ–‡å­—åé¢åŠ <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="xxxx (å†™åœ¨æ–‡ç« æœ«å°¾)">[1]</span></a></sup><br>å¹¶æ³¨æ˜ </p><p>æ¢è¡Œ<br>ä¸¤ä¸ªç©ºæ ¼+æ¢è¡Œ</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>xxxx (å†™åœ¨æ–‡ç« æœ«å°¾)<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ std::priority_queueä¼˜å…ˆé˜Ÿåˆ—è¯¦è§£</title>
    <link href="/2021/03/14/C-std-priority-queue%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E8%AF%A6%E8%A7%A3/"/>
    <url>/2021/03/14/C-std-priority-queue%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h2 id="STL-priority-queueä¼˜å…ˆé˜Ÿåˆ—"><a href="#STL-priority-queueä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="STL priority_queueä¼˜å…ˆé˜Ÿåˆ—"></a>STL priority_queueä¼˜å…ˆé˜Ÿåˆ—</h2><p>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§å®¹å™¨é€‚é…å™¨ï¼Œé˜Ÿåˆ—å…ƒç´ è¦æ±‚å®ç°äº†ä¸¥æ ¼å¼±æ’åºï¼ˆStrict Weak Orderingï¼‰ï¼Œä¿è¯é˜Ÿåˆ—é¡¶ç‚¹ï¼ˆtopï¼‰å…ƒç´ å§‹ç»ˆä¸ºæœ€å¤§å€¼ï¼ˆæœ€å°å€¼ï¼‰ã€‚</p><p>ä¼˜å…ˆé˜Ÿåˆ—æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å †ï¼Œé»˜è®¤æœ€å¤§å †ï¼Œå³æ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½æ¯”å…¶å­èŠ‚ç‚¹è¦å¤§ï¼Œå› æ­¤æ ¹èŠ‚ç‚¹ä¸­çš„å…ƒç´ æ€»æ˜¯æ ‘ä¸­çš„æœ€å¤§å€¼ï¼Œå› æ­¤å¸¸ç”¨äºæœ€å€¼çš„è¯»å–ã€‚åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šï¼Œä¼˜å…ˆé˜Ÿåˆ—å®ç°å•ä¸ªå…ƒç´ çš„å¢åˆ éƒ½æ˜¯O(log n)ï¼Œè€Œè¯»å–é˜Ÿåˆ—é¡¶ç‚¹åˆ™ä¸ºO(1)</p><h2 id="æ¥å£åŸå‹-ğŸ”"><a href="#æ¥å£åŸå‹-ğŸ”" class="headerlink" title="æ¥å£åŸå‹ ğŸ”"></a>æ¥å£åŸå‹ ğŸ”</h2><p>å¦‚ä¸‹æ¥å£å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œä¼˜å…ˆé˜Ÿåˆ—çš„å®šä¹‰åŒ…å«ä¸‰ä¸ªå…ƒç´ ï¼š</p><ul><li>å…ƒç´ ç±»å‹Tï¼›</li><li>å­˜å‚¨å…ƒç´ çš„åŸºç¡€å®¹å™¨ç±»å‹ï¼Œè¦æ±‚ä¸ºæ‹¥æœ‰è¿ç»­å†…å­˜åˆ†å¸ƒçš„<a href="https://en.cppreference.com/w/cpp/named_req/SequenceContainer">SequenceContainer</a>ï¼Œ STLä¸­æ»¡è¶³çš„å°±æ˜¯std::vector and std::dequeä¸¤ç§äº†ï¼›</li><li>å…ƒç´ æ¯”è¾ƒå‡½æ•°Compareï¼Œ Compareå‡½æ•°ä¸»è¦ç”¨äºå…ƒç´ æ¯”è¾ƒï¼Œå®ç°ä¸¥æ ¼çš„å¼±æ’åºï¼Œç”±äºæ’åºï¼Œä¼˜å…ˆé˜Ÿåˆ—å·²ç»ä¸æ»¡è¶³â€œå…ˆè¿›å…ˆå‡ºâ€çš„ç‰¹æ€§äº†ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> = vector&lt;T&gt;,<br>  <span class="hljs-keyword">class</span> Compare = less&lt;<span class="hljs-keyword">typename</span> Container::value_type&gt; &gt; <span class="hljs-keyword">class</span> priority_queue;<br></code></pre></td></tr></table></figure><h2 id="ä¸»è¦æˆå‘˜å‡½æ•°"><a href="#ä¸»è¦æˆå‘˜å‡½æ•°" class="headerlink" title="ä¸»è¦æˆå‘˜å‡½æ•°"></a>ä¸»è¦æˆå‘˜å‡½æ•°</h2><p>æ‰€æœ‰STLæ ‡å‡†åº“å®ç°çš„æ•°æ®ç»“æ„ï¼Œéƒ½æœ‰å¯¹åº”çš„CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰æ¥å£ï¼Œå½¢å¼ä¹ŸåŸºæœ¬ç±»ä¼¼.</p><p><img src="/img/priority_queues_feat.png" alt="ä¼˜å…ˆé˜Ÿåˆ—å‡ºå…¥ç¤ºæ„å›¾"></p><p><img src="/img/priority_queue_member_function.png" alt="æˆå‘˜å‡½æ•°è¯¦è§£è¡¨"></p><h2 id="Compå‡½æ•°"><a href="#Compå‡½æ•°" class="headerlink" title="Compå‡½æ•°"></a><strong>Compå‡½æ•°</strong></h2><p>compå‡½æ•°é»˜è®¤ä¸ºä½¿ç”¨ä»¿å‡½æ•°<code>std::less&lt;int&gt;</code>,è¡¨ç¤ºæœ€å¤§å † ï¼Œè¿™é‡Œlessæ˜¯é™åºï¼Œä½†ç”±äºä¼˜å…ˆé˜Ÿåˆ—å°†topæŒ‡å‘äº†é˜Ÿåˆ—å°¾ï¼›åŒç†ï¼Œ<code>std::greater&lt;T&gt;</code>,è¡¨ç¤ºæœ€å°å †.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Compare</span> = less&lt;<span class="hljs-keyword">typename</span> Container::value_type&gt; <br></code></pre></td></tr></table></figure><p>compå‡½æ•°è¦æ±‚ä¸¥æ ¼å¼±æ’åºï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸¥æ ¼å¼±æ’åº</p><p>ç»´åŸºç™¾ç§‘ç»™å‡ºäº†å¦‚ä¸‹å®šä¹‰ï¼Œç®€è¨€ä¹‹å°±æ˜¯å†…ç½®ç±»å‹ä¼šé€šè¿‡<code>!(a &lt; b) &amp;&amp; !( b &lt; a ) </code>æ¥åˆ¤æ–­abæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœåˆ¤æ–­ä¸­æºå¸¦äº†<code>=</code>å¦‚<code>&gt;=</code>ã€<code>&lt;=</code>ï¼Œå°†å¯¼è‡´ç›¸ç­‰åˆ¤æ–­é€»è¾‘å‡ºç°é”™è¯¯ã€‚</p><blockquote><p>A Strict Weak Ordering is a Binary Predicate that compares two objects, returning true if the first precedes the second. This predicate must satisfy the standard mathematical definition of a strict weak ordering. The precise requirements are stated below, but what they roughly mean is that a Strict Weak Ordering has to behave the way that â€œless thanâ€ behaves: if a is less than b then b is not less than a, if a is less than b and b is less than c then a is less than c, and so on.</p></blockquote><p>å¦å¤–å½“å…ƒç´ ç±»å‹Tä¸ºè‡ªå®šä¹‰ç±»å‹æ—¶ï¼Œé‚£å°±éœ€è¦è‡ªå®šä¹‰çš„compå‡½æ•°ï¼Œä¸€èˆ¬æœ‰å®ç°åç¼€è¿ç®—<code>()</code>å‡½æ•° å’Œ é‡è½½å…³ç³»è¿ç®—ç¬¦ <code>&lt;</code>ã€ <code>&gt;</code> ä¸¤ç§æ–¹å¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;queue&gt;</span> <span class="hljs-comment">// priority_queueå¤´æ–‡ä»¶</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;functional&gt;</span> <span class="hljs-comment">// ä»¿å‡½æ•°å¤´æ–‡ä»¶</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> &#123;<br><span class="hljs-type">int</span> x, y; <br><span class="hljs-built_in">node</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y) : <span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125; <br>&#125;;<br> <br><span class="hljs-comment">// &lt;æ“ä½œç¬¦ç”¨äºä»¿å‡½æ•°std::less</span><br><span class="hljs-comment">// nodeæ¯”è¾ƒå…ˆæŒ‰ç…§xé™åºï¼Œxç›¸ç­‰æ—¶ï¼Œå†æŒ‰ç…§yé™åº</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (Node a, Node b) <br>&#123; <br>      <span class="hljs-keyword">if</span> (a.x &gt; b.x) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a.x == b.x) &#123;<br><span class="hljs-keyword">return</span> a.y &gt; b.y; <span class="hljs-comment">// ä¸¥æ ¼å¼±æ’åº</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;      <br>&#125;<br><br>std::priority_queue&lt;Node, std::vector&lt;Node&gt;, std::less&lt;Node&gt;&gt; pq; <span class="hljs-comment">// å¤§é¡¶å †</span><br><br><span class="hljs-comment">// &gt;æ“ä½œç¬¦ç”¨äºä»¿å‡½æ•°std::greater</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &gt; (Node a, Node b)<br>&#123;<br>    <span class="hljs-keyword">return</span> a.x&gt; b.x;<br>&#125;<br><br>std::priority_queue&lt;Node, std::vector&lt;Node&gt;, std::greater&lt;Node&gt;&gt; pq; <span class="hljs-comment">// å°é¡¶å †</span><br><br><span class="hljs-comment">// è‡ªå®šä¹‰åç¼€æ“ä½œç¬¦</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">cmp</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(Node a,Node b)</span></span><br><span class="hljs-function">    </span>&#123;<br>  <span class="hljs-keyword">return</span> a.x &gt; b.x;<br>    &#125;<br>&#125;;<br><br>std::priority_queue&lt;Node, std::vector&lt;Node&gt;, cmp&gt; pq;<br><br></code></pre></td></tr></table></figure><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>ä¼˜å…ˆé˜Ÿåˆ—ä½œä¸ºæ•°æ®ç»“æ„ä¸­å †çš„ä¸€ç§å…·ä½“å®ç°ï¼Œåœ¨leetcodeç®—æ³•é¢˜ä¸­å‡ºç°é¢‘ç‡è¾ƒé«˜ã€‚æ¯”å¦‚è¿™é¢˜<a href="https://leetcode.com/problems/maximum-average-pass-ratio/">leetcode 1792. Maximum Average Pass Ratio</a></p><p>åœ¨å¦‚ä¸‹è§£ç­”ä¸­ï¼Œå¯ä»¥å‘ç°priority_queueçš„å‡ ä¸ªå…³é”®æ¥å£çš„ä½¿ç”¨ã€‚</p><p>å¦å¤–ç®—æ³•å±‚é¢å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å¯¹ä¼˜å…ˆé˜Ÿåˆ—è¿›è¡Œå¢åˆ è¯»å…ƒç´ ï¼Œä½¿å¾—æ¯æ¬¡éƒ½å¯¹æœ€å€¼è¿›è¡Œæ“ä½œï¼Œä¹Ÿå°±ä¿è¯äº†æ¯æ¬¡æ“ä½œéƒ½ä¸ºæœ€ä¼˜è§£ã€‚å®é™…ä¸Šè¿™å°±æ˜¯<strong>è´ªå¿ƒç®—æ³•ï¼Œé€šè¿‡æ±‚è§£æ¯ä¸ªå­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œæ¥å¾—åˆ°æ•´ä¸ªé—®é¢˜çš„æœ€ç»ˆæœ€ä¼˜è§£</strong>ã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œä¼˜å…ˆé˜Ÿåˆ—å°±å¸¸åœ¨ä¸€äº›æœ‰çº¦æŸæ¡ä»¶ä¸‹çš„åˆ†é…é—®é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// !!æ•´æ•°é™¤æ³•ä¸€å®šå…ˆè½¬double, æ³¨æ„æ£€æŸ¥æ‹¬å·</span><br>    <span class="hljs-comment">// !!ä¹˜æ³•æ³¨æ„æº¢å‡ºï¼Œå°‘é‡çš„é™¤æ³•è¯¯å·®å¯ä»¥å®¹å¿</span><br>    <span class="hljs-meta">#<span class="hljs-keyword">define</span> cal(xy) ((double)(xy[0] +1) / (xy[1] + 1) - (double)(xy[0]) / (xy[1]))</span><br><br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">maxAverageRatio</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; classes, <span class="hljs-type">int</span> extraStudents)</span> </span>&#123;<br>        priority_queue&lt;pair&lt;<span class="hljs-type">double</span>, <span class="hljs-type">int</span>&gt;&gt; qu; <span class="hljs-comment">// é»˜è®¤æœ€å¤§å †</span><br>        <br>        <span class="hljs-comment">// å…¥é˜Ÿåˆ—ï¼ŒæŒ‰ç…§åˆ†é…1ä¸ªä¹‹åçš„å·®å€¼ï¼Œæ’åº</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; classes.<span class="hljs-built_in">size</span>(); i++) &#123;            <br>            qu.<span class="hljs-built_in">emplace</span>(<span class="hljs-built_in">cal</span>(classes[i]), i); <span class="hljs-comment">// !!ä¼˜å…ˆä½¿ç”¨emplace/emplace_backï¼Œ æ¯”push/push_backæ›´é«˜æ•ˆ</span><br>        &#125;<br>        <br>        <span class="hljs-keyword">while</span> (extraStudents--) &#123;<br>            <span class="hljs-keyword">auto</span> [diff, i] = qu.<span class="hljs-built_in">top</span>();<br>            qu.<span class="hljs-built_in">pop</span>();<br>            <br>            <br>            <span class="hljs-comment">// ä»é˜Ÿåˆ—ä¸­å–å‡ºå·®å€¼æœ€å¤§çš„ä¸€é¡¹ï¼Œå³åˆ†é…ç»™å®ƒåç»“æœæœ€å¤§çš„</span><br>            classes[i][<span class="hljs-number">0</span>]++;<br>            classes[i][<span class="hljs-number">1</span>]++;<br>            <br>            <span class="hljs-comment">// åˆ†é…åé‡æ–°å¡å›é˜Ÿåˆ—</span><br>            qu.<span class="hljs-built_in">push</span>(&#123;<span class="hljs-built_in">cal</span>(classes[i]), i&#125;);<br>        &#125;<br>        <br>        <span class="hljs-keyword">auto</span> maxsum = <span class="hljs-number">0.0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c : classes) &#123;           <br>            <span class="hljs-comment">//cout &lt;&lt; cal(c) &lt;&lt; &quot;-&quot; &lt;&lt; c[0] &lt;&lt; &quot;-&quot; &lt;&lt; c[1] &lt;&lt; endl;</span><br>            maxsum += (<span class="hljs-type">double</span>)c[<span class="hljs-number">0</span>] / c[<span class="hljs-number">1</span>];<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> maxsum / classes.<span class="hljs-built_in">size</span>();<br>    &#125;    <br>&#125;;<br></code></pre></td></tr></table></figure><p>âš  <strong>Note</strong>: è½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>]]></content>
    
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
